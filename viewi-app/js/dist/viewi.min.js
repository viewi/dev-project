(()=>{var ot={componentsPath:"/assets/components.json"};var ce=class{method;url;action;wheres;defaults=null;constructor(t,n,o,r=null,i){this.method=t,this.url=n,this.action=o,this.wheres={},this.defaults=r,i&&(this.wheres=i)}where(t,n){return t!==null&&typeof t=="object"?this.wheres=Object.assign(this.where,t):n&&(this.wheres[t]=n),this}};var ue=class{routes;trimExpr=/^\/|\/$/g;setRoutes(t){this.routes=t}getRoutes(){return this.routes}register(t,n,o,r=null,i){let u=new ce(t.toLowerCase(),n,o,r,i);return this.routes.push(u),u}get(t,n){return this.register("get",t,n)}resolve(t){t=t.replace(this.trimExpr,"");let n=t.split("/");for(let o in this.routes){let r={},i=!0,u=this.routes[o],a=u.url.replace(this.trimExpr,"").split("/"),f=0,s=!1;for(f;f<a.length;f++){let p=a[f];if(p.indexOf("*")!==-1){let C=p.slice(0,-1);if(!C||n[f].indexOf(C)===0){s=!0;break}}let D=p.indexOf("{")!==-1;if(p!==n[f]&&!D){i=!1;break}if(D){let C=p.split(/[{}]+/),l=C[1];if(l[l.length-1]==="?")l=l.slice(0,-1);else if(f>=n.length){i=!1;break}if(l.indexOf("<")!==-1){let d=/<([^>]+)>/.exec(l);d&&(l=l.replace(/<([^>]+)>/g,""),u.wheres[l]=d[1])}if(u.wheres[l]){let d=new RegExp(u.wheres[l],"g");if(!d.test(n[f])){i=!1;break}d.lastIndex=0,d.test("/")&&(s=!0)}let h=f<n.length?n[f]:null;if(h&&C[0])if(h.indexOf(C[0])!==0){i=!1;break}else h=h.slice(C[0].length);if(r[l]=h,s){r[l]=n.slice(f).join("/");break}}}if(f<n.length&&!s&&(i=!1),i)return{item:u,params:r}}return null}};var _={list:{},config:{},booleanAttributes:{},router:new ue};var oe=class{browser=!0;server=!1;getConfig(){return _.config}};var ae=class{onSuccess;onError=null;onAlways=null;result=null;lastError=null;action;constructor(t){this.action=t}error(t){this.onError=t}success(t){this.onSuccess=t}always(t){this.onAlways=t}run(){let t=this;this.action(function(n,o){t.result=n;let r=!1;if(o?(t.lastError=o,t.onError!==null?t.onError(o):r=!0):t.onSuccess(t.result),t.onAlways!=null&&t.onAlways(),r)throw t.lastError})}then(t,n,o){this.onSuccess=t,n&&(this.onError=n),o&&(this.onAlways=o),this.run()}};function le(){return window.viewiScopeState??{http:{},state:{}}}function rt(e){return"Blob"in window&&e instanceof Blob}var G=class e{url;status;statusText;headers={};body=null;constructor(t,n,o,r={},i=null){this.url=t,this.status=n,this.statusText=o,this.headers=r,this.body=i}withUrl(t){var n=this.clone();return n.url=t,n}withStatus(t,n=null){var o=this.clone();return o.status=t,n!==null&&(o.statusText=n),o}withHeaders(t){var n=this.clone();return n.headers={...n.headers,...t},n}withHeader(t,n){var o=this.clone();return o.headers[t]=n,o}withBody(t=null){var n=this.clone();return n.body=t,n}ok(){return this.status>=200&&this.status<300}clone(){var t=new e(this.url,this.status,this.statusText,this.headers,this.body);return t}};function it(e,t,n,o,r){let i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===4){let c=i.status,a=i.getResponseHeader("Content-Type"),f=a&&a.indexOf("application/json")===0,p=i.responseText;f&&(p=JSON.parse(i.responseText));let x={},D=i.getAllResponseHeaders();if(D){let l=D.trim().split(/[\r\n]+/);for(let h=0;h<l.length;h++){let m=l[h].split(": "),A=m.shift();if(A){let k=m.join(": ");x[A]=k}}}let C=new G(n,c,"",x,p);e(C)}};let u=o!==null&&typeof o=="object"&&!rt(o);if(i.open(t.toUpperCase(),n,!0),u&&i.setRequestHeader("Content-Type","application/json"),r)for(let c in r)if(Array.isArray(r[c]))for(let a=0;a<r[c].length;a++)i.setRequestHeader(c,r[c][a]);else i.setRequestHeader(c,r[c]);o!==null?i.send(u?JSON.stringify(o):o):i.send()}var fe=class e{url;method;headers={};body=null;constructor(t,n,o={},r=null){this.url=t,this.method=n,this.headers=o,this.body=r}withMethod(t){var n=this.clone();return n.method=t,n}withUrl(t){var n=this.clone();return n.url=t,n}withHeaders(t){var n=this.clone();return n.headers={...n.headers,...t},n}withHeader(t,n){var o=this.clone();return o.headers[t]=n,o}withBody(t=null){var n=this.clone();return n.body=t,n}clone(){var t=new e(this.url,this.method,this.headers,this.body);return t}};var K=class{id=0;name=null};var Y=class{id=null;name=null};var me=class{request(t,n){var o=this,r=t.withHeader("X-Test-ID","mytoken");n.next(r)}response(t,n){var o=this,r=t.withBody("Access denied").withStatus(400);n.next(r)}};var H={};var wn=H.HttpClient,pe=class{CSRFToken=null;http=null;constructor(t){var n=this;n.http=t}request(t,n){var o=this;o.CSRFToken===null?o.http.post("/api/session").then(function(r){o.CSRFToken=r.CSRFToken,o.handleRequest(t,n)},function(){n.reject(t)}):o.handleRequest(t,n)}handleRequest(t,n){var o=this,r=t.withHeader("X-CSRF-TOKEN",o.CSRFToken);n.next(r)}response(t,n){var o=this;t.status===0?(t.status=200,t.body=new K,t.body.id=0,t.body.name="Mockup Post due to rejected request"):t.body.id+=1e3,n.next(t)}};var de=class{run(t){var n=this;t.next()}};var he=class{run(t){var n=this;t.next(!1)}};var ge=class{count=0;increment(){var t=this;t.count++}decrement(){var t=this;t.count--}};var ye=class{items=[];addNewItem(t){var n=this;n.items=[...n.items,t]}};var y=class{__id="";_props={};$_callbacks={};_refs={};_slots={};_element=null;$$t=[];$$r={};$$p=[];$;_name="BaseComponent";emitEvent(t,n){t in this.$_callbacks&&this.$_callbacks[t](n)}};var xe=class extends y{_name="DemoContainer"};var Ce=class extends y{_name="ViewiIcon"};var be=class extends y{_name="MenuBar"};function W(e){var t=e+"";return t.length}var ve=class extends y{_name="Counter";count=0;message="My message";increment(){var t=this;t.count++,t.message+="!"}decrement(){var t=this;t.count--}},st=[function(e){return function(t){e.decrement()}},function(e){return e.count%10+12},function(e){return`
    Count `+(e.count??"")+" "+(W(e.message)??"")+`
`},function(e){return`
Count `+(e.count??"")+" strlen:"+(W(e.message)??"")+`
`},function(e){return function(t){e.count++}},function(e){return function(t){e.increment()}},function(e){return function(t){e.increment(t)}},function(e){return function(t){e.increment(t)}},function(e){return e.message}];var Be=class extends y{_name="ViewiAssets";appPath="";data='<script data-keep="ViewiAssets">"ViewiAssets";<\/script>'},ct=[function(e){return e.data},function(e){return e.appPath}];var Ae=class extends y{_name="Layout";title="Viewi"},ut=[function(e){return`
        `+(e.title??"")+` | Viewi
    `}];var De=class extends y{_name="PanelLayout";title="Viewi";timerId=0;seconds=0;init(){var t=this;t.seconds=500,this.timerId=setInterval(()=>t.tick(),1e3)}destroy(){var t=this;clearInterval(this.timerId)}tick(){var t=this;t.seconds++,console.log("PanelLayout time "+t.seconds)}},at=[function(e){return e.seconds},function(e){return e.title},function(e){return"Panel: "+(e.seconds??"")+" "+(e.title??"")}];var Te=class extends y{_name="HomePage";title="Viewi v2 - Build reactive front-end with PHP";timerId=0;seconds=0;init(){var t=this;t.seconds=100,this.timerId=setInterval(()=>t.tick(),1e3)}destroy(){var t=this;clearInterval(this.timerId)}tick(){var t=this;t.seconds++,console.log("HomePage time "+t.seconds)}},lt=[function(e){return e.title},function(e){return e.title},function(e){return"Seconds: "+(e.seconds??"")}];var ke=class extends y{_name="AreaLayout";title="Area Layout"},ft=[function(e){return`
        `+(e.title??"")+` | Area
    `}];var Ee=class extends y{_name="NotFoundPage"};var we=class extends y{_name="StatefulCounter";counter=null;count=null;constructor(t,n){super();var o=this;n=typeof n<"u"?n:0,o.counter=t,o.count=n,o.counter.count+=100}},mt=[function(e){return function(t){e.counter.decrement()}},function(e){return e.__id},function(e){return e.counter.count},function(e){return function(t){e.counter.increment()}}];var _e=class extends y{_name="CounterPage"};function re(e){let t=typeof window<"u"?window:global;t.$locutus=t.$locutus||{};let n=t.$locutus;n.php=n.php||{};let o=t.JSON,r;try{if(typeof o=="object"&&typeof o.stringify=="function"){if(r=o.stringify(e),r===void 0)throw new SyntaxError("json_encode");return r}let u=e,c=function(a){let f=["\0-","\x7F-\x9F","\xAD","\u0600-\u0604","\u070F","\u17B4","\u17B5","\u200C-\u200F","\u2028-\u202F","\u2060-\u206F","\uFEFF","\uFFF0-\uFFFF"].join(""),s=new RegExp('[\\"'+f+"]","g"),p={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return s.lastIndex=0,s.test(a)?'"'+a.replace(s,function(x){let D=p[x];return typeof D=="string"?D:"\\u"+("0000"+x.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'};var i=function(a,f){let s="",p="    ",x=0,D="",C="",l=0,h=s,d=[],m=f[a];switch(m&&typeof m=="object"&&typeof m.toJSON=="function"&&(m=m.toJSON(a)),typeof m){case"string":return c(m);case"number":return isFinite(m)?String(m):"null";case"boolean":return String(m);case"object":if(!m)return"null";if(s+=p,d=[],Object.prototype.toString.apply(m)==="[object Array]"){for(l=m.length,x=0;x<l;x+=1)d[x]=i(x,m)||"null";return C=d.length===0?"[]":s?`[
`+s+d.join(`,
`+s)+`
`+h+"]":"["+d.join(",")+"]",C}for(D in m)Object.hasOwnProperty.call(m,D)&&(C=i(D,m),C&&d.push(c(D)+(s?": ":":")+C));return C=d.length===0?"{}":s?`{
`+s+d.join(`,
`+s)+`
`+h+"}":"{"+d.join(",")+"}",C;case"undefined":case"function":default:throw new SyntaxError("json_encode")}};return i("",{"":u})}catch(u){if(!(u instanceof SyntaxError))throw new Error("Unexpected error type in json_encode()");return n.php.last_error_json=4,null}}function pt(e){if(e===null||typeof e>"u")return"";let t=e+"",n="",o,r,i=0;o=r=0,i=t.length;for(let u=0;u<i;u++){let c=t.charCodeAt(u),a=null;if(c<128)r++;else if(c>127&&c<2048)a=String.fromCharCode(c>>6|192,c&63|128);else if((c&63488)!==55296)a=String.fromCharCode(c>>12|224,c>>6&63|128,c&63|128);else{if((c&64512)!==55296)throw new RangeError("Unmatched trail surrogate at "+u);let f=t.charCodeAt(++u);if((f&64512)!==56320)throw new RangeError("Unmatched lead surrogate at "+(u-1));c=((c&1023)<<10)+(f&1023)+65536,a=String.fromCharCode(c>>18|240,c>>12&63|128,c>>6&63|128,c&63|128)}a!==null&&(r>o&&(n+=t.slice(o,r)),n+=a,o=r=u+1)}return r>o&&(n+=t.slice(o,i)),n}function dt(e){e=pt(e);let t=["00000000","77073096","EE0E612C","990951BA","076DC419","706AF48F","E963A535","9E6495A3","0EDB8832","79DCB8A4","E0D5E91E","97D2D988","09B64C2B","7EB17CBD","E7B82D07","90BF1D91","1DB71064","6AB020F2","F3B97148","84BE41DE","1ADAD47D","6DDDE4EB","F4D4B551","83D385C7","136C9856","646BA8C0","FD62F97A","8A65C9EC","14015C4F","63066CD9","FA0F3D63","8D080DF5","3B6E20C8","4C69105E","D56041E4","A2677172","3C03E4D1","4B04D447","D20D85FD","A50AB56B","35B5A8FA","42B2986C","DBBBC9D6","ACBCF940","32D86CE3","45DF5C75","DCD60DCF","ABD13D59","26D930AC","51DE003A","C8D75180","BFD06116","21B4F4B5","56B3C423","CFBA9599","B8BDA50F","2802B89E","5F058808","C60CD9B2","B10BE924","2F6F7C87","58684C11","C1611DAB","B6662D3D","76DC4190","01DB7106","98D220BC","EFD5102A","71B18589","06B6B51F","9FBFE4A5","E8B8D433","7807C9A2","0F00F934","9609A88E","E10E9818","7F6A0DBB","086D3D2D","91646C97","E6635C01","6B6B51F4","1C6C6162","856530D8","F262004E","6C0695ED","1B01A57B","8208F4C1","F50FC457","65B0D9C6","12B7E950","8BBEB8EA","FCB9887C","62DD1DDF","15DA2D49","8CD37CF3","FBD44C65","4DB26158","3AB551CE","A3BC0074","D4BB30E2","4ADFA541","3DD895D7","A4D1C46D","D3D6F4FB","4369E96A","346ED9FC","AD678846","DA60B8D0","44042D73","33031DE5","AA0A4C5F","DD0D7CC9","5005713C","270241AA","BE0B1010","C90C2086","5768B525","206F85B3","B966D409","CE61E49F","5EDEF90E","29D9C998","B0D09822","C7D7A8B4","59B33D17","2EB40D81","B7BD5C3B","C0BA6CAD","EDB88320","9ABFB3B6","03B6E20C","74B1D29A","EAD54739","9DD277AF","04DB2615","73DC1683","E3630B12","94643B84","0D6D6A3E","7A6A5AA8","E40ECF0B","9309FF9D","0A00AE27","7D079EB1","F00F9344","8708A3D2","1E01F268","6906C2FE","F762575D","806567CB","196C3671","6E6B06E7","FED41B76","89D32BE0","10DA7A5A","67DD4ACC","F9B9DF6F","8EBEEFF9","17B7BE43","60B08ED5","D6D6A3E8","A1D1937E","38D8C2C4","4FDFF252","D1BB67F1","A6BC5767","3FB506DD","48B2364B","D80D2BDA","AF0A1B4C","36034AF6","41047A60","DF60EFC3","A867DF55","316E8EEF","4669BE79","CB61B38C","BC66831A","256FD2A0","5268E236","CC0C7795","BB0B4703","220216B9","5505262F","C5BA3BBE","B2BD0B28","2BB45A92","5CB36A04","C2D7FFA7","B5D0CF31","2CD99E8B","5BDEAE1D","9B64C2B0","EC63F226","756AA39C","026D930A","9C0906A9","EB0E363F","72076785","05005713","95BF4A82","E2B87A14","7BB12BAE","0CB61B38","92D28E9B","E5D5BE0D","7CDCEFB7","0BDBDF21","86D3D2D4","F1D4E242","68DDB3F8","1FDA836E","81BE16CD","F6B9265B","6FB077E1","18B74777","88085AE6","FF0F6A70","66063BCA","11010B5C","8F659EFF","F862AE69","616BFFD3","166CCF45","A00AE278","D70DD2EE","4E048354","3903B3C2","A7672661","D06016F7","4969474D","3E6E77DB","AED16A4A","D9D65ADC","40DF0B66","37D83BF0","A9BCAE53","DEBB9EC5","47B2CF7F","30B5FFE9","BDBDF21C","CABAC28A","53B39330","24B4A3A6","BAD03605","CDD70693","54DE5729","23D967BF","B3667A2E","C4614AB8","5D681B02","2A6F2B94","B40BBE37","C30C8EA1","5A05DF1B","2D02EF8D"].join(" "),n=0,o=0,r=0;n=n^-1;for(let i=0,u=e.length;i<u;i++)r=(n^e.charCodeAt(i))&255,o="0x"+t.substring(r*9,r*9+8),n=n>>>8^o;return n^-1}var zo=H.HttpClient,Ne=class extends y{_name="LazyPostPage";post=null;error="";message="";newPost=null;http=null;id=null;constructor(t,n){super();var o=this;o.http=t,o.id=n}init(){var t=this;t.newPost=new K,t.newPost.id=0,t.newPost.name="New",t.http.withInterceptor("SessionInterceptor").get("/api/post/"+t.id).then(function(n){t.post=n,t.message="Post has been read successfully"},function(){t.error="Server error"})}clean(){var t=this;t.newPost=new K}},ht=[function(e){return e.post?e.post.name:""},function(e){return e.__id},function(e){return e.__id},function(e){return[function(t){return t.newPost.name},function(t,n){t.newPost.name=n}]},function(e){return`
            `+(e.newPost.id??"")+" "+(e.newPost.name??"")+`
        `},function(e){return`
            `+(re(e.newPost)??"")+`
        `},function(e){return e.newPost.name},function(e){return`
            `+(dt(e.newPost.name)??"")+`
        `},function(e){return function(t){e.clean(t)}},function(e){return"Message: "+(e.message??"")},function(e){return"Error: "+(e.error??"")},function(e){return e.post},function(e){return`
            `+(e.post.id??"")+" "+(e.post.name??"")+`
        `}];var Se=class extends y{_name="MemberPage"};var Ie=class extends y{_name="MemberPageNoAccess"};var yr=H.HttpClient,$e=class extends y{_name="PostPage";post=null;error="";message="";http=null;id=null;constructor(t,n){super();var o=this;o.http=t,o.id=n}init(){var t=this;t.http.withInterceptor("SessionInterceptor").get("/api/post/"+t.id).then(function(n){t.post=n,t.message="Post has been read successfully"},function(){t.error="Server error"})}},gt=[function(e){return e.post?e.post.name:""},function(e){return"Message: "+(e.message??"")},function(e){return"Error: "+(e.error??"")},function(e){return e.post},function(e){return`
            `+(e.post.id??"")+" "+(e.post.name??"")+`
        `}];var Fe=class extends y{_name="TestLayoutPage"};var Dr=H.Process,Me=class{config=null;process=null;constructor(t){var n=this;n.process=t,n.config=t.getConfig()}getAll(){var t=this;return t.config}get(t){var n=this;return n.config[t]??null}};function ie(e,t){let n,o=0;if(e===null||typeof e>"u")return 0;if(e.constructor!==Array&&e.constructor!==Object)return 1;t==="COUNT_RECURSIVE"&&(t=1),t!==1&&(t=0);for(n in e)e.hasOwnProperty(n)&&(o++,t===1&&e[n]&&(e[n].constructor===Array||e[n].constructor===Object)&&(o+=ie(e[n],1)));return o}var Pe=class extends y{_name="TodoList";items=null},yt=[function(e){return e.items},function(e,t,n){return n}];var Le=class extends y{_name="TodoApp";text="";items=[];handleSubmit(t){var n=this;t.preventDefault(),W(n.text)!=0&&(n.items=[...n.items,n.text],n.text="")}},xt=[function(e){return function(t){e.handleSubmit(t)}},function(e){return[function(t){return t.text},function(t,n){t.text=n}]},function(e){return`
        Add #`+(ie(e.items)+1)+`
    `},function(e){return e.items}];var Re=class extends y{_name="TestInput";id=null;model=null;onInput(t){var n=this;n.emitEvent("model",t.target.value)}},Ct=[function(e){return function(t){e.onInput(t)}},function(e){return[function(t){return t.model},function(t,n){t.model=n}]}];var He=class extends y{_name="TestButton";id=null;title=null;class=null;disabled=!1;loading=!1;onClick(t){var n=this;n.emitEvent("click",t)}},bt=[function(e){return e.id},function(e){return e.disabled},function(e){return e.title},function(e){return e.class},function(e){return function(t){e.onClick(t)}},function(e){return" "+(e.title??"")+`
    `},function(e){return e.loading}];var Ve=class extends y{_name="ItemComponent"};var Oe=class extends y{_name="SomeComponent"};var je=class extends y{_name="TestComponent";name="MyName";name2="";_name2_Test="MyName_2";empty="";null=null;url="/home";attr="title";event="(click)";arr=["a","b","c"];arrWithKeys={a:"Apple",b:"Orange",c:"Lemon"};arrNested={a:{a:"Apple",b:"Orange",c:"Lemon"},b:{a:"Apple",b:"Orange",c:"Lemon"},c:{a:"Apple",b:"Orange",c:"Lemon"}};ifValue=!0;ifElseValue=!0;nestedIf=!0;dynamic="div";dynamic2="ItemComponent";raw="<b><i>Raw html text</i></b>";isDisabled=!0;message="Some message";checked=!1;checked2=!0;checkedNames=[];picked="One";selected="";selectedList=["A","C"];user=null;NameInput=null;testModel="some test";counterReducer=null;constructor(t){super();var n=this;n.counterReducer=t,n.user=new Y,n.user.id=1,n.user.name="Miki the cat",n.counterReducer.increment()}getNames(){var t=this;return re(t.checkedNames)}getName(t){var n=this;t=typeof t<"u"?t:null;var o=(1+5)*10;return t??"DefaultName"}addTodo(){var t=this;t.arrNested={a:{a:"Apple",b:"Orange",c:"Lemon"},d:{R:"Rat",T:"Dog",G:"Cat"},b:{a:"Apple",b:"Orange",c:"Lemon"}}}onEvent(t){var n=this;t.preventDefault()}toggleIf(){var t=this;t.ifValue=!t.ifValue,t.arr=t.ifValue?["a","b","c"]:["x","b","r"]}toggleElseIf(){var t=this;t.ifElseValue=!t.ifElseValue}},vt=[function(e){return"Tag test "+(e.name??"")+" "+(e.name2??"")+" "+(e._name2_Test??"")},function(e){return`
    $notAVar `+(e.getName()??"")+" "+(e.getName(e.name)??"")+`
    Nested
    `},function(e){return e.url},function(e){return e.empty},function(e){return e.null},function(e){return e.attr},function(e){return function(t){expression(t)}},function(e){return e.event},function(e){return function(t){e.onEvent(t)}},function(e){return[function(t){return t.testModel},function(t,n){t.testModel=n}]},function(e){return e.testModel},function(e){return[function(t){return t.testModel},function(t,n){t.testModel=n}]},function(e){return function(){e.counterReducer.increment()}},function(e){return"Clicked "+(e.counterReducer.count??"")+`
`},function(e){return function(){e.counterReducer.increment()}},function(e){return"Clicked "+(e.counterReducer.count??"")},function(e){return function(t){e.counterReducer.increment(t)}},function(e){return"Clicked "+(e.counterReducer.count??"")},function(e){return e.__id},function(e){return"First Name ("+(e.__id??"")+")"},function(e){return e.__id},function(e){return function(t){e.counterReducer.increment()}},function(e){return"Clicked "+(e.counterReducer.count??"")},function(e){return function(t){e.nestedIf=!e.nestedIf}},function(e){return e.nestedIf},function(e){return[function(t){return t.user.name},function(t,n){t.user.name=n}]},function(e){return e.user.name},function(e){return e.name},function(e){return"Custom "+(e.name??"")},function(e){return[function(t){return t.name},function(t,n){t.name=n}]},function(e){return[function(t){return t.name},function(t,n){t.name=n}]},function(e){return`
    `+(e.name??"")+`
`},function(e){return[function(t){return t.name2},function(t,n){t.name2=n}]},function(e){return`
    `+(e.name2??"")+`
`},function(e){return[function(t){return t.message},function(t,n){t.message=n}]},function(e){return e.message},function(e){return[function(t){return t.checked},function(t,n){t.checked=n}]},function(e){return e.checked},function(e){return[function(t){return t.checked2},function(t,n){t.checked2=n}]},function(e){return e.checked2},function(e){return[function(t){return t.checkedNames},function(t,n){t.checkedNames=n}]},function(e){return[function(t){return t.checkedNames},function(t,n){t.checkedNames=n}]},function(e){return[function(t){return t.checkedNames},function(t,n){t.checkedNames=n}]},function(e){return"Checked names: "+(e.getNames()??"")},function(e){return[function(t){return t.picked},function(t,n){t.picked=n}]},function(e){return[function(t){return t.picked},function(t,n){t.picked=n}]},function(e){return"Picked: "+(e.picked??"")},function(e){return[function(t){return t.selected},function(t,n){t.selected=n}]},function(e){return"Selected: "+(e.selected??"")},function(e){return[function(t){return t.selectedList},function(t,n){t.selectedList=n}]},function(e){return[function(t){return t.selectedList},function(t,n){t.selectedList=n}]},function(e){return"Selected: "+(re(e.selectedList)??"")},function(e){return e.isDisabled},function(e){return!e.isDisabled},function(e){return e.isDisabled?" mui-btn":""},function(e){return e.isDisabled?" mui-btn--primary":""},function(e){return e.isDisabled?"":" mui-btn--accent"},function(e){return function(t){e.isDisabled=!e.isDisabled}},function(e){return function(t){e.isDisabled=!e.isDisabled}},function(e){return e.raw},function(e){return e.raw},function(e){return function(t){e.raw=e.raw[0]==="<"?"New RAW: <span><i>Another content</i></span>":"<b><i>Raw html text</i></b>"}},function(e){return e.nestedIf},function(e){return e.name},function(e){return"Custom "+(e.name??"")},function(e){return e.nestedIf},function(e){return{id:"myid",title:"Custom "+e.name,class:"mui-btn--accent"}},function(e){return`
    Custom `+(e.name??"")+`
`},function(e){return function(t){e.name="Viewi Junior"}},function(e){return function(t){e.nestedIf=!e.nestedIf}},function(e){return e.nestedIf},function(e){return"Custom "+(e.name??"")+" Slot"},function(e){return e.nestedIf},function(e){return e.arrNested},function(e,t,n){return`
    Custom `+(e.name??"")+` Slot
    `},function(e,t,n){return n},function(e,t,n,o,r){return t},function(e,t,n,o,r){return o},function(e,t,n,o,r){return r},function(e,t,n,o,r){return t+". "+(o??"")+". "+(r??"")},function(e,t,n){return e.nestedIf},function(e,t,n){return e.name},function(e){return function(t){e.nestedIf=!e.nestedIf}},function(e){return function(t){e.dynamic=e.dynamic==="div"?"ItemComponent":"div"}},function(e){return`
`+(e.dynamic??"")+" "+(e.dynamic2??"")+`
`},function(e){return e.dynamic},function(e){return"Tag or component "+(e.dynamic??"")+" "+(e.dynamic2??"")},function(e){return e.dynamic2},function(e){return"Tag or component "+(e.dynamic??"")+" "+(e.dynamic2??"")},function(e){return"Custom "+(e.name??"")+" Slot"},function(e){return"Custom "+(e.name??"")+` slot
        `},function(e){return"Custom header "+(e.name??"")+" inside div"},function(e){return"Custom "+(e.name??"")+" footer"},function(e){return function(t){e.addTodo(t)}},function(e){return e.nestedIf},function(e){return e.name},function(e){return e.ifValue},function(e){return e.arrNested},function(e,t,n){return n},function(e,t,n,o,r){return t+". "+(o??"")+". "+(r??"")},function(e){return e.arr},function(e,t,n){return e.ifElseValue},function(e,t,n){return n},function(e,t,n){return n},function(e,t,n){return n},function(e,t,n){return e.nestedIf},function(e,t,n){return e.name},function(e){return e.arr},function(e,t,n){return t},function(e,t,n){return n},function(e,t,n){return t+". "},function(e,t,n){return n},function(e,t,n){return n},function(e){return e.arrWithKeys},function(e,t,n){return t},function(e,t,n){return n},function(e,t,n){return t+": "},function(e,t,n){return t},function(e,t,n){return n},function(e,t,n){return n},function(e){return e.ifValue},function(e){return e.arrNested},function(e,t,n){return n},function(e,t,n,o,r){return t},function(e,t,n,o,r){return o},function(e,t,n,o,r){return r},function(e,t,n,o,r){return t+". "+(o??"")+". "+(r??"")},function(e){return e.arrNested},function(e,t,n){return t==="b"},function(e,t,n){return n},function(e,t,n,o,r){return t},function(e,t,n,o,r){return o},function(e,t,n,o,r){return r},function(e,t,n,o,r){return t+". "+(o??"")+". "+(r??"")},function(e){return function(t){e.toggleIf(t)}},function(e){return function(t){e.toggleElseIf(t)}},function(e){return function(t){e.nestedIf=!e.nestedIf}},function(e){return function(t){e.name="Viewi Junior"}},function(e){return e.ifValue},function(e){return e.ifElseValue},function(e){return e.ifValue},function(e){return e.ifElseValue},function(e){return e.arr},function(e,t,n){return n}];var yi=H.Process,Ue=class extends y{_name="TestPage";baseUrl="";process=null;config=null;constructor(t,n){super();var o=this;o.process=t,o.config=n,o.baseUrl=n.get("baseUrl")}getEnvironment(){var t=this;return t.process.browser?"Browser":"Server"}},Bt=[function(e){return"Config base url: "+(e.baseUrl??"")},function(e){return"Env: "+(e.getEnvironment()??"")}];var qe=class extends y{_name="StatefulTodoApp";text="";todo=null;constructor(t){super();var n=this;n.todo=t}handleSubmit(t){var n=this;t.preventDefault(),W(n.text)!=0&&(n.todo.addNewItem(n.text),n.text="")}},At=[function(e){return function(t){e.handleSubmit(t)}},function(e){return[function(t){return t.text},function(t,n){t.text=n}]},function(e){return`
        Add #`+(ie(e.todo.items)+1)+`
    `},function(e){return e.todo.items}];var Ke=class extends y{_name="TodoAppPage"};var z={PostModel:K,UserModel:Y,ExampleInterceptor:me,SessionInterceptor:pe,MermberGuard:de,MermberGuardNoAccess:he,CounterReducer:ge,TodoReducer:ye,DemoContainer:xe,MenuBar:be,ViewiIcon:Ce,Counter_x:st,Counter:ve,HomePage_x:lt,HomePage:Te,AreaLayout_x:ft,AreaLayout:ke,Layout_x:ut,Layout:Ae,PanelLayout_x:at,PanelLayout:De,NotFoundPage:Ee,CounterPage:_e,LazyPostPage_x:ht,LazyPostPage:Ne,MemberPage:Se,MemberPageNoAccess:Ie,PostPage_x:gt,PostPage:$e,TestLayoutPage:Fe,TestPage_x:Bt,TestPage:Ue,TodoAppPage:Ke,StatefulCounter_x:mt,StatefulCounter:we,StatefulTodoApp_x:At,StatefulTodoApp:qe,ItemComponent:Ve,SomeComponent:Oe,TestButton_x:bt,TestButton:He,TestComponent_x:vt,TestComponent:je,TestInput_x:Ct,TestInput:Re,TodoApp_x:xt,TodoApp:Le,TodoList_x:yt,TodoList:Pe,ViewiAssets_x:ct,ViewiAssets:Be,ConfigService:Me};var ze={};function Xe(e,t,n){H[e]=t,ze[e]=n}var E={hydrate:!0,rootScope:!1,scopedContainer:{},located:{},iteration:{},lastIteration:{},layout:""};var Jt={},Gt=0;function X(e,t={}){let n=_.list[e],o=null,r=!1;if(n.di==="Singleton"?r=Jt:n.di==="Scoped"&&(r=E.scopedContainer),r&&e in r)return r[e];if(n.custom)o=ze[e]();else if(!n.dependencies)o=new z[e];else{let c=[];for(let a in n.dependencies){let f=n.dependencies[a];var i=null;t&&f.argName in t?i=t[f.argName]:f.default?i=f.default:f.null?i=null:f.builtIn?i=f.name==="string"?"":0:i=X(f.name),c.push(i)}o=new z[e](...c)}n.base&&(o.__id=++Gt+"");let u=le();if(u.state[e])for(let c in u.state[e])o[c]=u.state[e][c];return r&&(r[e]=o),o}var Ye=function(e,t,n){let r=n.length,i=function(a,f){console.log(a,f),f&&a.status>=200&&a.status<300?t(a.body):t(void 0,a.body??"Failed")},u=function(a,f){f&&r>-1?n[r].response(a,c):i(a,f)},c={next:function(a){r--,u(a,!0)},reject:function(a){r--,u(a,!1)}};c.next(e)},se=class e{interceptors=[];request(t,n,o,r){let i=this;return new ae(function(c){try{let a=le(),f=new fe(n,t,r,o),s=-1,p=i.interceptors.length,x=[],D=function(h,d){if(d){let m=h.method+"_"+h.url+"_"+JSON.stringify(h.body);if(m in a.http){let A=JSON.parse(a.http[m]);delete a.http[m];let k=new G(h.url,200,"OK",{},A);Ye(k,c,x);return}else it(function(A){Ye(A,c,x)},h.method,h.url,h.body,h.headers)}else{let m=new G(h.url,0,"Rejected",{},null);Ye(m,c,x)}},C=function(h,d){if(!d){D(h,d);return}if(s<p){let m=X(i.interceptors[s]);x.push(m),m.request(h,l)}else D(h,d)},l={next:function(h){s++,C(h,!0)},reject:function(h){s++,C(h,!1)}};l.next(f)}catch(a){console.error(a),c(void 0,a)}})}get(t,n){return this.request("get",t,null,n)}post(t,n,o){return this.request("post",t,n,o)}withInterceptor(t){let n=new e;return n.interceptors=[...this.interceptors,t],n}};function Dt(){Xe("HttpClient",se,()=>new se),Xe("Process",oe,()=>new oe)}var Q={};function U(e){if(!e.keep){for(let t in e.track){let n=e.track[t];delete e.instance.$$r[n.path][n.id]}if(e.track=[],e.children){for(let t in e.children)U(e.children[t]);e.children={}}if(e.main){for(let n=0;n<e.instance.$$p.length;n++){let o=e.instance.$$p[n];delete o[1].$$r[o[0]]}let t=e.instance;t.destroy&&t.destroy()}e.parent&&(delete e.parent.children[e.id],delete e.parent)}}function Tt(e,t){return function(n){t(e,n)}}var kt={_props:!0,$_callbacks:!0,_refs:!0,_slots:!0,_element:!0,$$t:!0,$$r:!0,$:!0,_name:!0,emitEvent:!0};var Wt=0;function zt(e,t,n){let o=e.$??e;return o.$||(Object.defineProperty(o,"$",{enumerable:!1,writable:!0,value:o}),Object.defineProperty(o,"$$r",{enumerable:!1,writable:!0,value:{}})),new Proxy(o,{set(i,u,c){let a=i[u]!==c,f=Reflect.set(i,u,c);if(a)for(let s in i.$$r){let p=i.$$r[s][0],x=i.$$r[s][1];if(p in x.$$r)for(let D in x.$$r[p]){let C=x.$$r[p][D];C[0].apply(null,C[1])}}return f}})}function Et(e,t,n){if(!(e in kt)&&n!==null&&typeof n=="object"&&!Array.isArray(n)){let o=zt(n,t,e);t[e]=o;let r=++Wt+"";o.$$r[r]=[e,t],t.$$p.push([r,o])}}function wt(e){let t=Object.keys(e);for(let o=0;o<t.length;o++){let r=t[o],i=e[r];Et(r,e,i)}let n=new Proxy(e,{set(o,r,i){let u=o[r]!==i,c=Reflect.set(o,r,i);if(Et(r,e,i),u&&r in o.$$r)for(let a in o.$$r[r]){let f=o.$$r[r][a];f[0].apply(null,f[1])}return c}});return e.$=e,n}var Xt=0;function P(e){return e.__aid||(e.__aid=++Xt,Q[e.__aid]={current:-1,target:e,invalid:[],added:0}),Q[e.__aid]}function _t(e,t){let n=P(e),o=e.childNodes.length,r=n.current+3;r=r>o?o:r;let i=[];for(let c=n.current+1;c<r;c++){let a=e.childNodes[c];if(a.nodeType===8)return n.current=c,n.invalid=n.invalid.concat(i),a;i.push(c)}n.added++,n.invalid=n.invalid.concat(i),console.log("Hydrate comment not found",t);let u=document.createComment(t);return n.current=n.current+i.length+1,o>n.current?e.insertBefore(u,e.childNodes[n.current]):e.appendChild(u)}var Yt={body:!0,head:!0,html:!0};function Nt(e,t){let n=P(e),o=e.childNodes.length,r=n.current+3;r=r>o?o:r;let i=[];for(let c=n.current+1;c<r;c++){let a=e.childNodes[c];if(a.nodeType===1&&a.nodeName.toLowerCase()===t.toLowerCase())return n.current=c,n.invalid=n.invalid.concat(i),a;i.push(c)}if(t in Yt){let c=document.getElementsByTagName(t);if(c.length>0)return n.invalid=[],c[0]}n.added++,n.invalid=n.invalid.concat(i),console.warn("Hydrate not found",t);let u=document.createElement(t);return n.current=n.current+i.length+1,o>n.current?e.insertBefore(u,e.childNodes[n.current]):e.appendChild(u)}function Z(e,t,n,o){let r=[e];o.arguments&&(r=r.concat(o.arguments));let i=(t.expression?e.$$t[t.code].apply(null,r):t.content)??"";n.nodeValue!==i&&(n.nodeValue=i)}function St(e,t,n,o){let r=P(e),i=e.childNodes.length,u=r.current+3;u=u>i?i:u;let c=[],a=r.current>-1?r.current:r.current+1;for(let s=a;s<u;s++){let p=e.childNodes[s];if(p.nodeType===3){if(s===r.current)break;return r.current=s,r.invalid=r.invalid.concat(c),Z(t,n,p,o),p}s!==r.current&&c.push(s)}r.added++,r.invalid=r.invalid.concat(c);let f=document.createTextNode("");return Z(t,n,f,o),r.current=r.current+c.length+1,i>r.current?e.insertBefore(f,e.childNodes[r.current]):e.appendChild(f)}function ee(e,t,n,o,r){let i=null;if(t.children){i="";for(let u=0;u<t.children.length;u++){let c=t.children[u],a=[e];r.arguments&&(a=a.concat(r.arguments));let f=c.expression?e.$$t[c.code].apply(null,a):c.content??"";i=u===0?f:i+(f??"")}}o.toLowerCase()in _.booleanAttributes?i===!0||i===null?o!==n.getAttribute(o)&&n.setAttribute(o,o):n.removeAttribute(o):i!==null?i!==n.getAttribute(o)&&n.setAttribute(o,i):n.removeAttribute(o)}var It=0;function Je(){return++It}function S(e,t=!1,n,o){let r=document.createTextNode("");return r._anchor=o??"#"+ ++It,n&&n.current++,t||n&&e.childNodes.length>n.current?(n?e:e.parentElement).insertBefore(r,n?e.childNodes[n.current]:e):e.appendChild(r),r}function $t(e,t,n,o,r,i,u){let c=[e];u.arguments&&(c=c.concat(u.arguments));let a=e.$$t[n.children[0].forData].apply(null,c),f=Array.isArray(a),s=o,p=!1,x={},D={};for(let C in a){let l=f?+C:C,h=a[l],d=++u.counter,m={id:d,why:"forItem",instance:e,arguments:[...u.arguments],map:{...u.map},track:[],parent:u,children:{},counter:0};u.refs&&(m.refs=u.refs),u.children[d]=m;let A=!1;for(let k in r)if(r[k]===h){A=!0,p=!1,s=o;break}else!p&&!(l in x)&&(s=r[k].begin,p=!0);if(x[l]=!0,!A){m.map[n.children[0].forKey]=m.arguments.length,m.arguments.push(l),m.map[n.children[0].forItem]=m.arguments.length,m.arguments.push(h);let k={map:{...i.map},storage:{...i.storage}},g=S(s,!0,void 0,"b"+Je());F(s,e,[t],m,k,!1,!0);let B=S(s,!0,void 0,g._anchor);l in r&&(D[l]=r[l]),r[l]={key:l,value:h,begin:g,end:B,scope:m}}}for(let C in r)if(!(C in x)){let l=r[C].end;for(;l.previousSibling._anchor!==l._anchor;)l.previousSibling.remove();r[C].begin.remove(),l.remove(),U(r[C].scope),delete r[C]}for(let C in D){let l=D[C].end;for(;l.previousSibling._anchor!==l._anchor;)l.previousSibling.remove();D[C].begin.remove(),U(D[C].scope),l.remove()}}function Ge(e,t,n,o,r,i,u){let c=!0;for(let s=0;s<u;s++)c=c&&!r.values[s];o.children&&(c=c&&!!e.$$t[o.children[0].code](e));let a=n.anchorNode,f={map:{...i.map},storage:{...i.storage}};if(r.values[u]!==c){let s=n.scope.parent;if(r.values[u]=c,c){let p=++s.counter,x={id:p,why:u===0?"if":o.children?"elseif":"else",instance:e,arguments:[...s.arguments],map:{...s.map},track:[],parent:s,children:{},counter:0};s.refs&&(x.refs=s.refs),n.scope=x,s.children[p]=x,F(a,e,[t],x,f,!1,!0)}else for(U(n.scope),n.scope={id:-1,why:"if",instance:e,arguments:[],map:{},track:[],parent:s,children:{},counter:0};a.previousSibling._anchor!==a._anchor;)a.previousSibling.remove()}}function Ft(e,t,n){let o=t.expression?e.$$t[t.code](e):t.content??"";n.nodeValue!==o&&(n.nodeValue=o)}var Zt=0;function M(e,t,n,o){e.$$r[t]||(e.$$r[t]={});let r=++Zt;n.track.push({id:r,path:t}),e.$$r[t][r]=o}function J(e){let t="value";switch(e.t){case"t":{t="tag";break}case"a":{t="attr";break}case void 0:case"v":{t="value";break}case"c":{t="component";break}case"x":{t="text";break}case"m":{t="comment";break}case"d":{t="doctype";break}case"r":{t="root",e.h&&e.h[0].t==="x"&&e.h[0].c?.substring(0,9)==="<!DOCTYPE"&&(e.h[0].t="d");break}default:throw new Error("Type "+e.t+" is not defined in build")}if(e.type=t,delete e.t,e.c&&(e.content=e.c,delete e.c),e.e&&(e.expression=e.e,delete e.e),e.a){e.attributes=e.a,delete e.a;for(let n in e.attributes)J(e.attributes[n])}if(e.i){e.directives=e.i,delete e.i;for(let n in e.directives)J(e.directives[n])}if(e.h){e.children=e.h,delete e.h;for(let n in e.children)J(e.children[n])}}function We(e){return e in _.list}function Mt(e,t,n){let o=t.expression?e.$$t[t.code](e):t.content??"",r=t.type==="component"||t.expression&&We(o),i=n.anchorNode,u=n.scope.parent;for(U(n.scope);i.previousSibling._anchor!==i._anchor;)i.previousSibling.remove();let c=++u.counter,a={id:c,why:"dynamic",arguments:[...u.arguments],map:{...u.map},track:[],instance:e,parent:u,children:{},counter:0};if(u.refs&&(a.refs=u.refs),n.scope=a,u.children[c]=a,r){let f={};if(t.slots){let p={id:++a.counter,why:"slot",arguments:[...u.arguments],map:{...u.map},track:[],instance:e,parent:a,children:{},counter:0,slots:u.slots};for(let x in t.slots)f[x]={node:t.slots[x],scope:p}}te(i,o,{attributes:t.attributes,scope:u,instance:e},f,!1,!0);return}else{let f=i.parentElement.insertBefore(document.createElement(o),i);if(t.attributes)for(let s in t.attributes){let p=t.attributes[s],x=p.expression?e.$$t[p.code](e):p.content??"";if(x[0]==="("){let D=x.substring(1,x.length-1);if(p.children){let C=e.$$t[p.dynamic?p.dynamic.code:p.children[0].code](e);f.addEventListener(D,C)}}else{ee(e,p,f,x,a);let D=[];if(p.children)for(let C in p.children){let l=p.children[C];l.subs&&(D=D.concat(l.subs))}if(D)for(let C in D){let l=D[C];M(e,l,a,[ee,[e,p,f,x,a]])}}}t.children&&F(f,e,t.children,a,void 0,!1,!1)}}function Pt(e,t,n,o){for(;o.previousSibling._anchor!==o._anchor;)o.previousSibling.remove();let r=o.parentElement,i=document.createElement(r.nodeName),u=[e];n.arguments&&(u=u.concat(n.arguments));let c=(t.expression?e.$$t[t.code].apply(null,u):t.content)??"";i.innerHTML=c;let a=Array.prototype.slice.call(i.childNodes);for(let f=0;f<a.length;f++){let s=a[f];r.insertBefore(s,o)}}function Lt(e,t){return function(n){if(t.inputType==="checkbox"){let o=t.getter(e),r=n.target.value;if(Array.isArray(o)){let i=o.slice(),u=i.indexOf(r);u===-1?n.target.checked&&i.push(r):n.target.checked||i.splice(u,1),t.setter(e,i)}else t.setter(e,n.target.checked)}else if(t.inputType==="radio"){let o=n.target.value;t.setter(e,o)}else if(t.isMultiple){let o=n.target.options,r=[];for(let i=0;i<o.length;i++){let u=o[i];u.selected&&r.push(u.value)}t.setter(e,r)}else t.setter(e,n.target.value)}}function Qe(e,t,n){if(n.inputType==="checkbox"){let o=n.getter(t);if(Array.isArray(o)){let r=e.value;o.indexOf(r)===-1?(e.removeAttribute("checked"),e.checked=!1):(e.setAttribute("checked","checked"),e.checked=!0)}else o?(e.setAttribute("checked","checked"),e.checked=!0):(e.removeAttribute("checked"),e.checked=!1)}else if(n.inputType==="radio"){let o=n.getter(t),r=e.value;o===r?(e.setAttribute("checked","checked"),e.checked=!0):(e.removeAttribute("checked"),e.checked=!1)}else if(n.isMultiple){let o=e.options,r=n.getter(t);for(let i=0;i<o.length;i++){let u=o[i];r.indexOf(u.value)===-1?u.selected=!1:u.selected=!0}}else e.value=n.getter(t)}var Ht={},en="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Rt=en.split(",");for(let e=0;e<Rt.length;e++)Ht[Rt[e]]=!0;function Vt(e){return e.toLowerCase()in Ht}var Ze="http://www.w3.org/2000/svg";function F(e,t,n,o,r,i=!0,u=!1){let c=null,a=!1;for(let f=0;f<n.length;f++){let s=n[f],p=e,x=!1,D=!1,C=o;switch(s.type){case"tag":case"component":{if(s.directives){let g=r||{map:{},storage:{}},B=[t];o.arguments&&(B=B.concat(o.arguments));for(let T=0;T<s.directives.length;T++){let b=s.directives[T];if(!(T in g.map)){switch(g.map[T]=!0,b.content){case"if":{c={values:[],index:0,subs:[]};let v=!!t.$$t[b.children[0].code].apply(null,B);c.values.push(v);let w=i?P(e):void 0,I=S(e,u,w),R={map:{...g.map},storage:{...g.storage}},L=++o.counter,$={id:L,why:"if",arguments:o.arguments,map:o.map,instance:t,track:[],parent:o,children:{},counter:0};o.refs&&($.refs=o.refs),o.children[L]=$,v&&F(e,t,[s],$,g,i,u);let O=S(e,u,w,I._anchor);if(b.children[0].subs)for(let N in b.children[0].subs){let V=b.children[0].subs[N];c.subs.push(V),M(t,V,o,[Ge,[t,s,{scope:$,anchorNode:O},b,c,R,c.index]])}c.index++,x=!0;break}case"else-if":{if(c){let v=!0;for(let N=0;N<c.index;N++)v=v&&!c.values[N];v=v&&!c.values[c.index-1]&&!!t.$$t[b.children[0].code].apply(null,B),c.values.push(v);let w=i?P(e):void 0,I=S(e,u,w),R={map:{...g.map},storage:{...g.storage}},L=++o.counter,$={id:L,why:"elseif",instance:t,arguments:o.arguments,map:o.map,track:[],parent:o,children:{},counter:0};o.refs&&($.refs=o.refs),o.children[L]=$,v&&F(e,t,[s],$,g,i,u);let O=S(e,u,w,I._anchor);b.children[0].subs&&(c.subs=c.subs.concat(b.children[0].subs));for(let N in c.subs){let V=c.subs[N];M(t,V,o,[Ge,[t,s,{scope:$,anchorNode:O},b,c,R,c.index]])}c.index++,x=!0}else console.warn("Directive else-if has missing previous if/else-if",b.content,b);break}case"else":{if(c){let v=!0;for(let N=0;N<c.index;N++)v=v&&!c.values[N];c.values.push(v);let w=i?P(e):void 0,I=S(e,u,w),R={map:{...g.map},storage:{...g.storage}},L=++o.counter,$={id:L,why:"else",instance:t,arguments:o.arguments,map:o.map,track:[],parent:o,children:{},counter:0};o.refs&&($.refs=o.refs),o.children[L]=$,v&&F(e,t,[s],$,g,i,u);let O=S(e,u,w,I._anchor);for(let N in c.subs){let V=c.subs[N];M(t,V,o,[Ge,[t,s,{scope:$,anchorNode:O},b,c,R,c.index]])}c.index++,x=!0}else console.warn("Directive else has missing previous if/else-if",b.content,b);break}case"foreach":{let v=t.$$t[b.children[0].forData].apply(null,B),w=i?P(e):void 0,I=S(e,u,w),R=Array.isArray(v),L={};for(let O in v){let N=R?+O:O,V=v[N],tt=++o.counter,j={id:tt,why:"foreach",instance:t,arguments:[...o.arguments],map:{...o.map},track:[],parent:o,children:{},counter:0};o.refs&&(j.refs=o.refs),o.children[tt]=j,j.map[b.children[0].forKey]=j.arguments.length,j.arguments.push(N),j.map[b.children[0].forItem]=j.arguments.length,j.arguments.push(V);let qt={map:{...g.map},storage:{...g.storage}},nt=S(e,u,w,"b"+Je());F(e,t,[s],j,qt,i,u);let Kt=S(e,u,w,nt._anchor);L[N]={key:N,value:V,begin:nt,end:Kt,scope:j}}let $=S(e,u,w,I._anchor);if(b.children[0].subs)for(let O in b.children[0].subs){let N=b.children[0].subs[O],V={map:{...g.map},storage:{...g.storage}};M(t,N,o,[$t,[t,s,b,$,L,V,o]])}x=!0;break}default:{console.warn("Directive not implemented",b.content,b),x=!0;break}}if(x)break}}if(x)continue}let l=s.expression?t.$$t[s.code](t):s.content??"",h=s.expression,d=s.type==="component"||s.expression&&We(l),m,A,k=o;if(h&&(m=i?P(e):void 0,A=S(e,u,m)),h){let g=++o.counter;k={id:g,why:"dynamic",arguments:[...o.arguments],map:{...o.map},track:[],instance:t,parent:o,children:{},counter:0},o.refs&&(k.refs=o.refs),o.children[g]=k,C=k}if(d){let g={};if(s.slots){let B=++k.counter,T={id:B,why:"slot",arguments:[...o.arguments],map:{...o.map},track:[],parent:k,instance:t,children:{},counter:0,slots:o.slots};o.refs&&(T.refs=o.refs),k.children[B]=T;for(let b in s.slots)g[b]={node:s.slots[b],scope:T}}te(e,l,{attributes:s.attributes,scope:o},g,i,u)}else{if(s.content==="template"){a=u;break}if(s.content==="slot"){m||(m=i?P(e):void 0),a=u;let B="default";if(s.attributes)for(let v in s.attributes)s.attributes[v].content==="name"&&(B=s.attributes[v].children[0].content);let T=S(e,u,m);if(B in o.slots){let v=o.slots[B];v.node.unpacked||(J(v.node),v.node.unpacked=!0),F(p,v.scope.instance,v.node.children,v.scope,void 0,i,a)}else s.children&&F(p,t,s.children,o,void 0,i,a);let b=S(e,u,m,T._anchor);o.instance._name in E.iteration&&(E.iteration[o.instance._name].slots[B]=b);continue}D=!0;let g=Vt(l)||e.isSvg;p=i?Nt(e,l):u?e.parentElement.insertBefore(g?document.createElementNS(Ze,l):document.createElement(l),e):e.appendChild(g?document.createElementNS(Ze,l):document.createElement(l)),s.first&&(t._element=p),g&&(p.isSvg=!0)}if(h){let g=S(e,u,m,A._anchor);if(s.subs)for(let B in s.subs){let T=s.subs[B];M(t,T,o,[Mt,[t,s,{scope:k,anchorNode:g}]])}}if(d)continue;break}case"text":{if(s.raw){let h=u?e.parentElement:e,d=document.createElement(h.nodeName),m=[t];o.arguments&&(m=m.concat(o.arguments));let A=(s.expression?t.$$t[s.code].apply(null,m):s.content)??"";d.innerHTML=A;let k=i?P(e):void 0,g=S(e,u,k);if(i){if(d.childNodes.length>0){let T=Array.prototype.slice.call(d.childNodes);for(let b=0;b<T.length;b++){let v=T[b],w=v.nodeType;if(w!==3){k.current++;let I=e.childNodes[k.current];if(!I||I.nodeType!==w||w===1&&I.nodeName!==v.nodeName)console.log("Missmatch");else if(w===1&&(I.nodeName!==v.nodeName||I.outerHTML!==v.outerHTML)){let R=I.getAttribute("data-keep");(!R||R!==v.getAttribute("data-keep"))&&(I.outerHTML=v.outerHTML)}}}}}else if(d.childNodes.length>0){let T=Array.prototype.slice.call(d.childNodes);for(let b=0;b<T.length;b++){let v=T[b];u?e.parentElement.insertBefore(v,e):e.appendChild(v)}}let B=S(e,u,k,g._anchor);if(s.subs)for(let T in s.subs){let b=s.subs[T];M(t,b,o,[Pt,[t,s,o,B]])}break}let l;if(i?l=St(e,t,s,o):(l=document.createTextNode(""),Z(t,s,l,o),u?e.parentElement.insertBefore(l,e):e.appendChild(l)),s.subs)for(let h in s.subs){let d=s.subs[h];M(t,d,o,[Z,[t,s,l,o]])}break}case"comment":{let l=s.expression?t.$$t[s.code](t):s.content??"",h=i?_t(e,l):u?e.parentElement.insertBefore(document.createComment(l),e):e.appendChild(document.createComment(l));if(s.subs)for(let d in s.subs){let m=s.subs[d];M(t,m,o,[Ft,[t,s,h]])}break}case"doctype":{if(i){let l=P(e);l.current++}break}default:{console.warn("Node type not implemented",s);break}}if(D){if(s.attributes){let l=i?p.getAttributeNames():null,h=i?{}:null;for(let d=0;d<s.attributes.length;d++){let m=s.attributes[d],A=m.expression?t.$$t[m.code](t):m.content??"";if(A[0]==="#"){let g=A.substring(1,A.length);t._refs[g]=p,o.refs&&g in o.refs&&(t[g]=p);continue}let k=A==="model";if(A[0]==="("){let g=A.substring(1,A.length-1);if(m.children){let B=t.$$t[m.dynamic?m.dynamic.code:m.children[0].code](t);p.addEventListener(g,B)}}else if(k){let g="text";p.getAttribute("type")==="checkbox"&&(g="checkbox"),p.getAttribute("type")==="radio"&&(g="radio");let B=!1;p.tagName==="SELECT"&&(g="select",B=p.multiple);let T=g==="checkbox"||g==="radio"||g==="select",b=m.children[0],v=t.$$t[b.code](t),w=T?"change":"input",I={getter:v[0],setter:v[1],inputType:g,isMultiple:B};Qe(p,t,I);for(let R in b.subs){let L=b.subs[R];M(t,L,o,[Qe,[p,t,I]])}p.addEventListener(w,Lt(t,I))}else{i&&(h[A]=!0),ee(t,m,p,A,o);let g=[];if(m.children)for(let B in m.children){let T=m.children[B];T.subs&&(g=g.concat(T.subs))}if(g)for(let B in g){let T=g[B];M(t,T,o,[ee,[t,m,p,A,o]])}}}if(i)for(let d=0;d<l.length;d++)l[d]in h||p.removeAttribute(l[d])}else if(i){let l=p.getAttributeNames();for(let h=0;h<l.length;h++)p.removeAttribute(l[h])}}s.children&&F(p,t,s.children,C,void 0,i,a)}}function Ot(e,t,n,o){e[t]=n(o)}function jt(e,t,n){let o=n.scope.instance,r=t.expression?o.$$t[t.code](o):t.content??"";if(r[0]!=="("){let i=null,u=[];if(t.children)for(let c=0;c<t.children.length;c++){let a=t.children[c],f=[o];n.scope.arguments&&(f=f.concat(n.scope.arguments));let s=a.expression?o.$$t[a.code].apply(null,f):a.content??"";i=c===0?s:i+(s??""),a.subs&&(u=u.concat(a.subs))}if(r==="_props"&&i)for(let c in i)e[c]=i[c],e._props[c]=i[c];else e[r]=i,e._props[r]=i}}function te(e,t,n,o,r=!1,i=!1,u={}){if(!(t in _.list))throw new Error(`Component ${t} not found.`);if(!(t in z))throw new Error(`Component ${t} not found.`);let c=_.list[t],a=c.nodes,f=E.lastIteration,s=t in f;if(s){let l=f[t].slots;for(let h in l){let d=l[h];for(;d.previousSibling._anchor!==d._anchor;)d.previousSibling.remove()}f[t].scope.keep=!0}let p=s?f[t].instance:wt(X(t,u));s||c.hooks&&c.hooks.init&&p.init();let x=t+"_x";!s&&x in z&&(p.$$t=z[x]);let D=n?++n.scope.counter:0,C=s?f[t].scope:{id:D,why:t,arguments:n?[...n.scope.arguments]:[],instance:p,main:!0,map:n?{...n.scope.map}:{},track:[],children:{},counter:0,parent:n?n.scope:void 0,slots:o};if(n&&(n.scope.children[D]=C),c.refs&&(C.refs=c.refs),n&&n.attributes){let l=n.scope.instance;for(let h in n.attributes){let d=n.attributes[h],m=d.expression?l.$$t[d.code](l):d.content??"";if(m[0]==="("){let A=m.substring(1,m.length-1);if(d.children){let k=l.$$t[d.dynamic?d.dynamic.code:d.children[0].code](l);p.$_callbacks[A]=k}}else{let A=m==="model",k=null,g=[];if(A){let B=d.children[0],T=[l];n.scope.arguments&&(T=T.concat(n.scope.arguments));let b=l.$$t[B.code].apply(null,T);k=b[0](l),p.$_callbacks[m]=Tt(l,b[1]);for(let v in B.subs){let w=B.subs[v];M(l,w,n.scope,[Ot,[p,m,b[0],l]])}}else if(d.children)for(let B=0;B<d.children.length;B++){let T=d.children[B],b=[l];n.scope.arguments&&(b=b.concat(n.scope.arguments));let v=T.expression?l.$$t[T.code].apply(null,b):T.content??"";k=B===0?v:k+(v??""),T.subs&&(g=g.concat(T.subs))}else k=!0;if(m==="_props"&&k)for(let B in k)p[B]=k[B],p._props[B]=k[B];else p[m]=k,p._props[m]=k;if(g)for(let B in g){let T=g[B];M(l,T,n.scope,[jt,[p,d,n]])}}}}if(t in E.located&&(E.iteration[t]={instance:p,scope:C,slots:{}}),s){let l=f[t].slots;for(let d in l){let m=l[d];if(m.parentNode&&document.body.contains(m)){if(o&&d in o){let A=o[d];A.node.unpacked||(J(A.node),A.node.unpacked=!0),F(m,A.scope.instance,A.node.children,A.scope,void 0,!1,!0)}E.iteration[t].slots[d]=m}}let h=t;for(;h;){let d=_.list[h];h=!1;let m=d.nodes;if(m){let A=m.children;A&&A[0].type==="component"&&A[0].content in f&&(E.iteration[A[0].content]=f[A[0].content],h=A[0].content)}}return C}if(e&&a){a.unpacked||(J(a),a.unpacked=!0);let l=a.children;l&&(l[0].type==="component"&&(E.located[l[0].content]=!0),l[0].first=!0,F(e,p,l,C,void 0,r,i))}return C}function et(e,t,n,o,r){if(!(e in _.list))throw new Error(`Component ${e} not found.`);let i=_.list[e],u=E.hydrate,c=E.rootScope;if(o&&c&&i.parent!==E.layout){location.href=o.href;return}if(i.middleware&&!r){let a=i.middleware.length,f=!0,s=-1,p={next:function(x=!0){if(f=x,s++,f&&s<a){let D=X(i.middleware[s]);console.log("Running middleware",D),D.run(p)}else f?(console.log("Ready to render",f),et(e,t,n,o,!0)):console.log("Access denied",f)}};p.next(!0);return}o&&o.func(o.href,o.forward),E.layout=i.parent,E.lastIteration=E.iteration,E.iteration={},E.scopedContainer={},E.located={},E.rootScope=te(n??document,e,void 0,{},u,!1,t),E.hydrate=!1;for(let a in E.lastIteration)a in E.iteration||(E.lastIteration[a].scope.keep=!1);if(c&&U(c),u)for(let a in Q){let f=Q[a];for(let s=f.target.childNodes.length-1;s>=f.current+1;s--)f.target.childNodes[s].remove();for(let s=f.invalid.length-1;s>=0;s--)f.target.childNodes[f.invalid[s]].remove()}}var tn=document.createElement("a"),q={link:tn,scrollTo:null};var nn=function(e){return q.link.href=e,q.link.pathname},on=function(e,t=!0){t&&window.history.pushState({href:e},"",e)};function ne(e,t=!0){let n=nn(e),o=_.router.resolve(n);if(o==null)throw"Can't resolve route for uri: "+n;et(o.item.action,o.params,void 0,{func:on,href:e,forward:t})}function Ut(){document.addEventListener("click",function(e){if(e.defaultPrevented)return;e.target||console.warn('Can not aquire event target at "watchLinks".');let n=e.target;for(;n.parentElement&&n.tagName!=="A";)n=n.parentElement;n.tagName==="A"&&n.href&&n.href.indexOf(location.origin)===0&&(q.scrollTo=null,(!q.link.hash||q.link.pathname!==location.pathname)&&(e.preventDefault(),q.link.hash&&(q.scrollTo=q.link.hash),ne(n.href,!0)))},!1),window.addEventListener("popstate",function(e){e.state?ne(e.state.href,!1):ne(location.href,!1)})}var rn=()=>({version:"2.0.1"});globalThis.Viewi=rn;console.log("Viewi entry");(async()=>{let e=await(await fetch(ot.componentsPath)).json();_.list=e,_.router.setRoutes(e._routes),_.config=e._config;let t=e._meta.boolean.split(",");for(let n=0;n<t.length;n++)_.booleanAttributes[t[n]]=!0;Dt(),Ut(),ne(location.href)})();})();
