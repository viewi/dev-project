(()=>{var oe=class{method;url;action;wheres;defaults=null;constructor(t,n,o,r=null,i){this.method=t,this.url=n,this.action=o,this.wheres={},this.defaults=r,i&&(this.wheres=i)}where(t,n){return t!==null&&typeof t=="object"?this.wheres=Object.assign(this.where,t):n&&(this.wheres[t]=n),this}};var re=class{routes;trimExpr=/^\/|\/$/g;setRoutes(t){this.routes=t}getRoutes(){return this.routes}register(t,n,o,r=null,i){let s=new oe(t.toLowerCase(),n,o,r,i);return this.routes.push(s),s}get(t,n){return this.register("get",t,n)}resolve(t){t=t.replace(this.trimExpr,"");let n=t.split("/");for(let o in this.routes){let r={},i=!0,s=this.routes[o],l=s.url.replace(this.trimExpr,"").split("/"),f=0,c=!1;for(f;f<l.length;f++){let m=l[f];if(m.indexOf("*")!==-1){let y=m.slice(0,-1);if(!y||n[f].indexOf(y)===0){c=!0;break}}let N=m.indexOf("{")!==-1;if(m!==n[f]&&!N){i=!1;break}if(N){let y=m.split(/[{}]+/),a=y[1];if(a[a.length-1]==="?")a=a.slice(0,-1);else if(f>=n.length){i=!1;break}if(a.indexOf("<")!==-1){let d=/<([^>]+)>/.exec(a);d&&(a=a.replace(/<([^>]+)>/g,""),s.wheres[a]=d[1])}if(s.wheres[a]){let d=new RegExp(s.wheres[a],"g");if(!d.test(n[f])){i=!1;break}d.lastIndex=0,d.test("/")&&(c=!0)}let k=f<n.length?n[f]:null;if(k&&y[0])if(k.indexOf(y[0])!==0){i=!1;break}else k=k.slice(y[0].length);if(r[a]=k,c){r[a]=n.slice(f).join("/");break}}}if(f<n.length&&!c&&(i=!1),i)return{item:s,params:r}}return null}};var S={list:{},config:{},booleanAttributes:{},router:new re};var ee=class{browser=!0;server=!1;getConfig(){return S.config}};var ie=class{onSuccess;onError=null;onAlways=null;result=null;lastError=null;action;constructor(t){this.action=t}error(t){this.onError=t}success(t){this.onSuccess=t}always(t){this.onAlways=t}run(){let t=this;this.action(function(n,o){t.result=n;let r=!1;if(o?(t.lastError=o,t.onError!==null?t.onError(o):r=!0):t.onSuccess(t.result),t.onAlways!=null&&t.onAlways(),r)throw t.lastError})}then(t,n,o){this.onSuccess=t,n&&(this.onError=n),o&&(this.onAlways=o),this.run()}};function se(){return window.viewiScopeState??{http:{},state:{}}}function Ge(e){return"Blob"in window&&e instanceof Blob}function We(e,t,n,o,r){let i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===4){let u=i.status,l=i.getResponseHeader("Content-Type"),f=l&&l.indexOf("application/json")===0,c=i.responseText,m=c;f&&(m=JSON.parse(i.responseText));let v={},N=i.getAllResponseHeaders();if(N){let a=N.trim().split(/[\r\n]+/);for(let k=0;k<a.length;k++){let p=a[k].split(": "),_=p.shift();if(_){let A=p.join(": ");v[_]=A}}}e({status:u,headers:v,raw:c,data:m})}};let s=o!==null&&typeof o=="object"&&!Ge(o);if(i.open(t.toUpperCase(),n,!0),s&&i.setRequestHeader("Content-Type","application/json"),r)for(let u in r)if(Array.isArray(r[u]))for(let l=0;l<r[u].length;l++)i.setRequestHeader(u,r[u][l]);else i.setRequestHeader(u,r[u]);o!==null?i.send(s?JSON.stringify(o):o):i.send()}var te=class{request(t,n,o,r){return new ie(function(s){try{let u=se(),l=t.toLowerCase()+"_"+n+"_"+JSON.stringify(o);if(l in u.http){s(u.http[l]),delete u.http[l];return}We(function(f){f.status===0||f.status>=200&&f.status<400?s(f.data):s(void 0,f.data)},t,n,o,r)}catch(u){s(void 0,u)}})}get(t,n){return this.request("get",t,null,n)}};var K={};var Ve={};function Oe(e,t,n){K[e]=t,Ve[e]=n}function Xe(){Oe("HttpClient",te,()=>new te),Oe("Process",ee,()=>new ee)}var W={};var $={hydrate:!0,rootScope:!1,scopedContainer:{},located:{},iteration:{},lastIteration:{},layout:""};function F(e){if(!e.keep){for(let t in e.track){let n=e.track[t];delete e.instance.$$r[n.path][n.id]}if(e.track=[],e.children){for(let t in e.children)F(e.children[t]);e.children={}}if(e.main){for(let n=0;n<e.instance.$$p.length;n++){let o=e.instance.$$p[n];delete o[1].$$r[o[0]]}let t=e.instance;t.destroy&&t.destroy()}e.parent&&(delete e.parent.children[e.id],delete e.parent)}}var g=class{__id="";_props={};$_callbacks={};_refs={};_slots={};_element=null;$$t=[];$$r={};$$p=[];$;_name="BaseComponent";emitEvent(t,n){t in this.$_callbacks&&this.$_callbacks[t](n)}};var Cn=K.Process,ce=class{$config=null;$process=null;constructor(t){var n=this;n.$process=t,n.$config=t.getConfig()}getAll(){var t=this;return t.$config}get(t){var n=this;return n.$config[t]??null}};var ue=class extends g{_name="WelcomeEmail";baseUrl="/";constructor(t){super();var n=this;n.config=t,n.baseUrl=t.get("baseUrl")}},Ye=[function(e){return e.baseUrl}];var ae=class{id=null;name=null};var X=class{id=null;name=null};var le=class{count=0;increment(){var t=this;t.count++}decrement(){var t=this;t.count--}};var fe=class{items=[];addNewItem(t){var n=this;n.items=[...n.items,t]}};var me=class extends g{_name="DemoContainer"};var pe=class extends g{_name="ViewiIcon"};var de=class extends g{_name="MenuBar"};function J(e){var t=e+"";return t.length}var he=class extends g{_name="Counter";count=0;message="My message";increment(){var t=this;t.count++,t.message+="!"}decrement(){var t=this;t.count--}},ze=[function(e){return function(t){e.decrement()}},function(e){return e.count%10+12},function(e){return`
    Count `+(e.count??"")+" "+(J(e.message)??"")+`
`},function(e){return`
Count `+(e.count??"")+" strlen:"+(J(e.message)??"")+`
`},function(e){return function(t){e.count++}},function(e){return function(t){e.increment()}},function(e){return function(t){e.increment(t)}},function(e){return function(t){e.increment(t)}},function(e){return e.message}];var ge=class extends g{_name="ViewiAssets";appPath="";data='<script data-keep="ViewiAssets">"ViewiAssets";<\/script>'},Qe=[function(e){return e.data},function(e){return e.appPath}];var xe=class extends g{_name="Layout";title="Viewi"},Ze=[function(e){return`
        `+(e.title??"")+` | Viewi
    `}];var ye=class extends g{_name="PanelLayout";title="Viewi";timerId=0;seconds=0;init(){var t=this;t.seconds=500,this.timerId=setInterval(()=>t.tick(),1e3)}destroy(){var t=this;clearInterval(this.timerId)}tick(){var t=this;t.seconds++,console.log("PanelLayout time "+t.seconds)}},et=[function(e){return e.seconds},function(e){return e.title},function(e){return"Panel: "+(e.seconds??"")+" "+(e.title??"")}];var be=class extends g{_name="HomePage";title="Viewi v2 - Build reactive front-end with PHP";timerId=0;seconds=0;init(){var t=this;t.seconds=100,this.timerId=setInterval(()=>t.tick(),1e3)}destroy(){var t=this;clearInterval(this.timerId)}tick(){var t=this;t.seconds++,console.log("HomePage time "+t.seconds)}},tt=[function(e){return e.title},function(e){return e.title},function(e){return"Seconds: "+(e.seconds??"")}];var ve=class extends g{_name="AreaLayout";title="Area Layout"},nt=[function(e){return`
        `+(e.title??"")+` | Area
    `}];var Ce=class extends g{_name="NotFoundPage"};var ke=class extends g{_name="StatefulCounter";counter=null;count=null;constructor(t,n){super();var o=this;o.counter=t,o.count=n===void 0?0:n,o.counter.count+=100}},ot=[function(e){return function(t){e.counter.decrement()}},function(e){return e.__id},function(e){return e.counter.count},function(e){return function(t){e.counter.increment()}}];var Te=class extends g{_name="CounterPage"};var Do=K.HttpClient,_e=class extends g{_name="PostPage";post=null;error="";message="";$http=null;id=null;constructor(t,n){super();var o=this;o.$http=t,o.id=n}init(){var t=this;t.$http.get("/api/post/"+t.id).then(function(n){t.post=n,t.message="Post has been read successfully"},function(){t.error="Server error"})}},rt=[function(e){return e.post?e.post.name:""},function(e){return"Message: "+(e.message??"")},function(e){return"Error: "+(e.error??"")},function(e){return e.post},function(e){return`
            `+(e.post.id??"")+" "+(e.post.name??"")+`
        `}];var Ne=class extends g{_name="TestLayoutPage"};function je(e){let t=typeof window<"u"?window:global;t.$locutus=t.$locutus||{};let n=t.$locutus;n.php=n.php||{};let o=t.JSON,r;try{if(typeof o=="object"&&typeof o.stringify=="function"){if(r=o.stringify(e),r===void 0)throw new SyntaxError("json_encode");return r}let s=e,u=function(l){let f=["\0-","\x7F-\x9F","\xAD","\u0600-\u0604","\u070F","\u17B4","\u17B5","\u200C-\u200F","\u2028-\u202F","\u2060-\u206F","\uFEFF","\uFFF0-\uFFFF"].join(""),c=new RegExp('[\\"'+f+"]","g"),m={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return c.lastIndex=0,c.test(l)?'"'+l.replace(c,function(v){let N=m[v];return typeof N=="string"?N:"\\u"+("0000"+v.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+l+'"'};var i=function(l,f){let c="",m="    ",v=0,N="",y="",a=0,k=c,d=[],p=f[l];switch(p&&typeof p=="object"&&typeof p.toJSON=="function"&&(p=p.toJSON(l)),typeof p){case"string":return u(p);case"number":return isFinite(p)?String(p):"null";case"boolean":return String(p);case"object":if(!p)return"null";if(c+=m,d=[],Object.prototype.toString.apply(p)==="[object Array]"){for(a=p.length,v=0;v<a;v+=1)d[v]=i(v,p)||"null";return y=d.length===0?"[]":c?`[
`+c+d.join(`,
`+c)+`
`+k+"]":"["+d.join(",")+"]",y}for(N in p)Object.hasOwnProperty.call(p,N)&&(y=i(N,p),y&&d.push(u(N)+(c?": ":":")+y));return y=d.length===0?"{}":c?`{
`+c+d.join(`,
`+c)+`
`+k+"}":"{"+d.join(",")+"}",y;case"undefined":case"function":default:throw new SyntaxError("json_encode")}};return i("",{"":s})}catch(s){if(!(s instanceof SyntaxError))throw new Error("Unexpected error type in json_encode()");return n.php.last_error_json=4,null}}function ne(e,t){let n,o=0;if(e===null||typeof e>"u")return 0;if(e.constructor!==Array&&e.constructor!==Object)return 1;t==="COUNT_RECURSIVE"&&(t=1),t!==1&&(t=0);for(n in e)e.hasOwnProperty(n)&&(o++,t===1&&e[n]&&(e[n].constructor===Array||e[n].constructor===Object)&&(o+=ne(e[n],1)));return o}var Ae=class extends g{_name="TodoList";items=null},it=[function(e){return e.items},function(e,t,n){return n}];var $e=class extends g{_name="TodoApp";text="";items=[];handleSubmit(t){var n=this;t.preventDefault(),J(n.text)!=0&&(n.items=[...n.items,n.text],n.text="")}},st=[function(e){return function(t){e.handleSubmit(t)}},function(e){return[function(t){return t.text},function(t,n){t.text=n}]},function(e){return`
        Add #`+(ne(e.items)+1)+`
    `},function(e){return e.items}];var we=class extends g{_name="TestInput";id=null;model=null;onInput(t){var n=this;n.emitEvent("model",t.target.value)}},ct=[function(e){return function(t){e.onInput(t)}},function(e){return[function(t){return t.model},function(t,n){t.model=n}]}];var Se=class extends g{_name="TestButton";id=null;title=null;class=null;disabled=!1;loading=!1;onClick(t){var n=this;n.emitEvent("click",t)}},ut=[function(e){return e.id},function(e){return e.disabled},function(e){return e.title},function(e){return e.class},function(e){return function(t){e.onClick(t)}},function(e){return" "+(e.title??"")+`
    `},function(e){return e.loading}];var Ie=class extends g{_name="ItemComponent"};var Me=class extends g{_name="SomeComponent"};var Ee=class extends g{_name="TestComponent";name="MyName";name2="";_name2_Test="MyName_2";empty="";null=null;url="/home";attr="title";event="(click)";arr=["a","b","c"];arrWithKeys={a:"Apple",b:"Orange",c:"Lemon"};arrNested={a:{a:"Apple",b:"Orange",c:"Lemon"},b:{a:"Apple",b:"Orange",c:"Lemon"},c:{a:"Apple",b:"Orange",c:"Lemon"}};ifValue=!0;ifElseValue=!0;nestedIf=!0;dynamic="div";dynamic2="ItemComponent";raw="<b><i>Raw html text</i></b>";isDisabled=!0;message="Some message";checked=!1;checked2=!0;checkedNames=[];picked="One";selected="";selectedList=["A","C"];user=null;NameInput=null;testModel="some test";counterReducer=null;constructor(t){super();var n=this;n.counterReducer=t,n.user=new X,n.user.id=1,n.user.name="Miki the cat",n.counterReducer.increment()}getNames(){var t=this;return je(t.checkedNames)}getName(t){var n=this;t=typeof t<"u"?t:null;var o=(1+5)*10;return t??"DefaultName"}addTodo(){var t=this;t.arrNested={a:{a:"Apple",b:"Orange",c:"Lemon"},d:{R:"Rat",T:"Dog",G:"Cat"},b:{a:"Apple",b:"Orange",c:"Lemon"}}}onEvent(t){var n=this;t.preventDefault()}toggleIf(){var t=this;t.ifValue=!t.ifValue,t.arr=t.ifValue?["a","b","c"]:["x","b","r"]}toggleElseIf(){var t=this;t.ifElseValue=!t.ifElseValue}},at=[function(e){return"Tag test "+(e.name??"")+" "+(e.name2??"")+" "+(e._name2_Test??"")},function(e){return`
    $notAVar `+(e.getName()??"")+" "+(e.getName(e.name)??"")+`
    Nested
    `},function(e){return e.url},function(e){return e.empty},function(e){return e.null},function(e){return e.attr},function(e){return function(t){expression(t)}},function(e){return e.event},function(e){return function(t){e.onEvent(t)}},function(e){return[function(t){return t.testModel},function(t,n){t.testModel=n}]},function(e){return e.testModel},function(e){return[function(t){return t.testModel},function(t,n){t.testModel=n}]},function(e){return function(){e.counterReducer.increment()}},function(e){return"Clicked "+(e.counterReducer.count??"")+`
`},function(e){return function(){e.counterReducer.increment()}},function(e){return"Clicked "+(e.counterReducer.count??"")},function(e){return function(t){e.counterReducer.increment(t)}},function(e){return"Clicked "+(e.counterReducer.count??"")},function(e){return e.__id},function(e){return"First Name ("+(e.__id??"")+")"},function(e){return e.__id},function(e){return function(t){e.counterReducer.increment()}},function(e){return"Clicked "+(e.counterReducer.count??"")},function(e){return function(t){e.nestedIf=!e.nestedIf}},function(e){return e.nestedIf},function(e){return[function(t){return t.user.name},function(t,n){t.user.name=n}]},function(e){return e.user.name},function(e){return e.name},function(e){return"Custom "+(e.name??"")},function(e){return[function(t){return t.name},function(t,n){t.name=n}]},function(e){return[function(t){return t.name},function(t,n){t.name=n}]},function(e){return`
    `+(e.name??"")+`
`},function(e){return[function(t){return t.name2},function(t,n){t.name2=n}]},function(e){return`
    `+(e.name2??"")+`
`},function(e){return[function(t){return t.message},function(t,n){t.message=n}]},function(e){return e.message},function(e){return[function(t){return t.checked},function(t,n){t.checked=n}]},function(e){return e.checked},function(e){return[function(t){return t.checked2},function(t,n){t.checked2=n}]},function(e){return e.checked2},function(e){return[function(t){return t.checkedNames},function(t,n){t.checkedNames=n}]},function(e){return[function(t){return t.checkedNames},function(t,n){t.checkedNames=n}]},function(e){return[function(t){return t.checkedNames},function(t,n){t.checkedNames=n}]},function(e){return"Checked names: "+(e.getNames()??"")},function(e){return[function(t){return t.picked},function(t,n){t.picked=n}]},function(e){return[function(t){return t.picked},function(t,n){t.picked=n}]},function(e){return"Picked: "+(e.picked??"")},function(e){return[function(t){return t.selected},function(t,n){t.selected=n}]},function(e){return"Selected: "+(e.selected??"")},function(e){return[function(t){return t.selectedList},function(t,n){t.selectedList=n}]},function(e){return[function(t){return t.selectedList},function(t,n){t.selectedList=n}]},function(e){return"Selected: "+(je(e.selectedList)??"")},function(e){return e.isDisabled},function(e){return!e.isDisabled},function(e){return e.isDisabled?" mui-btn":""},function(e){return e.isDisabled?" mui-btn--primary":""},function(e){return e.isDisabled?"":" mui-btn--accent"},function(e){return function(t){e.isDisabled=!e.isDisabled}},function(e){return function(t){e.isDisabled=!e.isDisabled}},function(e){return e.raw},function(e){return e.raw},function(e){return function(t){e.raw=e.raw[0]==="<"?"New RAW: <span><i>Another content</i></span>":"<b><i>Raw html text</i></b>"}},function(e){return e.nestedIf},function(e){return e.name},function(e){return"Custom "+(e.name??"")},function(e){return e.nestedIf},function(e){return{id:"myid",title:"Custom "+e.name,class:"mui-btn--accent"}},function(e){return`
    Custom `+(e.name??"")+`
`},function(e){return function(t){e.name="Viewi Junior"}},function(e){return function(t){e.nestedIf=!e.nestedIf}},function(e){return e.nestedIf},function(e){return"Custom "+(e.name??"")+" Slot"},function(e){return e.nestedIf},function(e){return e.arrNested},function(e,t,n){return`
    Custom `+(e.name??"")+` Slot
    `},function(e,t,n){return n},function(e,t,n,o,r){return t},function(e,t,n,o,r){return o},function(e,t,n,o,r){return r},function(e,t,n,o,r){return t+". "+(o??"")+". "+(r??"")},function(e,t,n){return e.nestedIf},function(e,t,n){return e.name},function(e){return function(t){e.nestedIf=!e.nestedIf}},function(e){return function(t){e.dynamic=e.dynamic==="div"?"ItemComponent":"div"}},function(e){return`
`+(e.dynamic??"")+" "+(e.dynamic2??"")+`
`},function(e){return e.dynamic},function(e){return"Tag or component "+(e.dynamic??"")+" "+(e.dynamic2??"")},function(e){return e.dynamic2},function(e){return"Tag or component "+(e.dynamic??"")+" "+(e.dynamic2??"")},function(e){return"Custom "+(e.name??"")+" Slot"},function(e){return"Custom "+(e.name??"")+` slot
        `},function(e){return"Custom header "+(e.name??"")+" inside div"},function(e){return"Custom "+(e.name??"")+" footer"},function(e){return function(t){e.addTodo(t)}},function(e){return e.nestedIf},function(e){return e.name},function(e){return e.ifValue},function(e){return e.arrNested},function(e,t,n){return n},function(e,t,n,o,r){return t+". "+(o??"")+". "+(r??"")},function(e){return e.arr},function(e,t,n){return e.ifElseValue},function(e,t,n){return n},function(e,t,n){return n},function(e,t,n){return n},function(e,t,n){return e.nestedIf},function(e,t,n){return e.name},function(e){return e.arr},function(e,t,n){return t},function(e,t,n){return n},function(e,t,n){return t+". "},function(e,t,n){return n},function(e,t,n){return n},function(e){return e.arrWithKeys},function(e,t,n){return t},function(e,t,n){return n},function(e,t,n){return t+": "},function(e,t,n){return t},function(e,t,n){return n},function(e,t,n){return n},function(e){return e.ifValue},function(e){return e.arrNested},function(e,t,n){return n},function(e,t,n,o,r){return t},function(e,t,n,o,r){return o},function(e,t,n,o,r){return r},function(e,t,n,o,r){return t+". "+(o??"")+". "+(r??"")},function(e){return e.arrNested},function(e,t,n){return t==="b"},function(e,t,n){return n},function(e,t,n,o,r){return t},function(e,t,n,o,r){return o},function(e,t,n,o,r){return r},function(e,t,n,o,r){return t+". "+(o??"")+". "+(r??"")},function(e){return function(t){e.toggleIf(t)}},function(e){return function(t){e.toggleElseIf(t)}},function(e){return function(t){e.nestedIf=!e.nestedIf}},function(e){return function(t){e.name="Viewi Junior"}},function(e){return e.ifValue},function(e){return e.ifElseValue},function(e){return e.ifValue},function(e){return e.ifElseValue},function(e){return e.arr},function(e,t,n){return n}];var Hr=K.Process,Be=class extends g{_name="TestPage";baseUrl="";$process=null;$config=null;constructor(t,n){super();var o=this;o.$process=t,o.$config=n,o.baseUrl=n.get("baseUrl")}getEnvironment(){var t=this;return t.$process.browser?"Browser":"Server"}},lt=[function(e){return"Config base url: "+(e.baseUrl??"")},function(e){return"Env: "+(e.getEnvironment()??"")}];var Le=class extends g{_name="StatefulTodoApp";text="";todo=null;constructor(t){super();var n=this;n.todo=t}handleSubmit(t){var n=this;t.preventDefault(),J(n.text)!=0&&(n.todo.addNewItem(n.text),n.text="")}},ft=[function(e){return function(t){e.handleSubmit(t)}},function(e){return[function(t){return t.text},function(t,n){t.text=n}]},function(e){return`
        Add #`+(ne(e.todo.items)+1)+`
    `},function(e){return e.todo.items}];var Pe=class extends g{_name="TodoAppPage"};var G={WelcomeEmail_x:Ye,WelcomeEmail:ue,PostModel:ae,UserModel:X,CounterReducer:le,TodoReducer:fe,DemoContainer:me,MenuBar:de,ViewiIcon:pe,Counter_x:ze,Counter:he,HomePage_x:tt,HomePage:be,AreaLayout_x:nt,AreaLayout:ve,Layout_x:Ze,Layout:xe,PanelLayout_x:et,PanelLayout:ye,NotFoundPage:Ce,CounterPage:Te,PostPage_x:rt,PostPage:_e,TestLayoutPage:Ne,TestPage_x:lt,TestPage:Be,TodoAppPage:Pe,StatefulCounter_x:ot,StatefulCounter:ke,StatefulTodoApp_x:ft,StatefulTodoApp:Le,ItemComponent:Ie,SomeComponent:Me,TestButton_x:ut,TestButton:Se,TestComponent_x:at,TestComponent:Ee,TestInput_x:ct,TestInput:we,TodoApp_x:st,TodoApp:$e,TodoList_x:it,TodoList:Ae,ViewiAssets_x:Qe,ViewiAssets:ge,ConfigService:ce};function mt(e,t){return function(n){t(e,n)}}var pt={_props:!0,$_callbacks:!0,_refs:!0,_slots:!0,_element:!0,$$t:!0,$$r:!0,$:!0,_name:!0,emitEvent:!0};var Bt=0;function Lt(e,t,n){let o=e.$??e;return o.$||(Object.defineProperty(o,"$",{enumerable:!1,writable:!0,value:o}),Object.defineProperty(o,"$$r",{enumerable:!1,writable:!0,value:{}})),new Proxy(o,{set(i,s,u){let l=i[s]!==u,f=Reflect.set(i,s,u);if(l)for(let c in i.$$r){let m=i.$$r[c][0],v=i.$$r[c][1],N=m+"."+s;if(N in v.$$r)for(let y in v.$$r[N]){let a=v.$$r[N][y];a[0].apply(null,a[1])}}return f}})}function dt(e){let t=Object.keys(e);for(let o=0;o<t.length;o++){let r=t[o],i=e[r];if(!(r in pt)&&i!==null&&typeof i=="object"&&!Array.isArray(i)){let s=Lt(i,e,r);e[r]=s;let u=++Bt+"";s.$$r[u]=[r,e],e.$$p.push([u,s])}}let n=new Proxy(e,{set(o,r,i){let s=o[r]!==i,u=Reflect.set(o,r,i);if(s&&r in o.$$r)for(let l in o.$$r[r]){let f=o.$$r[r][l];f[0].apply(null,f[1])}return u}});return e.$=e,n}var Pt=0;function H(e){return e.__aid||(e.__aid=++Pt,W[e.__aid]={current:-1,target:e,invalid:[],added:0}),W[e.__aid]}function ht(e,t){let n=H(e),o=e.childNodes.length,r=n.current+3;r=r>o?o:r;let i=[];for(let u=n.current+1;u<r;u++){let l=e.childNodes[u];if(l.nodeType===8)return n.current=u,n.invalid=n.invalid.concat(i),l;i.push(u)}n.added++,n.invalid=n.invalid.concat(i),console.log("Hydrate comment not found",t);let s=document.createComment(t);return n.current=n.current+i.length+1,o>n.current?e.insertBefore(s,e.childNodes[n.current]):e.appendChild(s)}var Ht={body:!0,head:!0,html:!0};function gt(e,t){let n=H(e),o=e.childNodes.length,r=n.current+3;r=r>o?o:r;let i=[];for(let u=n.current+1;u<r;u++){let l=e.childNodes[u];if(l.nodeType===1&&l.nodeName.toLowerCase()===t.toLowerCase())return n.current=u,n.invalid=n.invalid.concat(i),l;i.push(u)}if(t in Ht){let u=document.getElementsByTagName(t);if(u.length>0)return n.invalid=[],u[0]}n.added++,n.invalid=n.invalid.concat(i),console.warn("Hydrate not found",t);let s=document.createElement(t);return n.current=n.current+i.length+1,o>n.current?e.insertBefore(s,e.childNodes[n.current]):e.appendChild(s)}function Y(e,t,n,o){let r=[e];o.arguments&&(r=r.concat(o.arguments));let i=(t.expression?e.$$t[t.code].apply(null,r):t.content)??"";n.nodeValue!==i&&(n.nodeValue=i)}function xt(e,t,n,o){let r=H(e),i=e.childNodes.length,s=r.current+3;s=s>i?i:s;let u=[],l=r.current>-1?r.current:r.current+1;for(let c=l;c<s;c++){let m=e.childNodes[c];if(m.nodeType===3){if(c===r.current)break;return r.current=c,r.invalid=r.invalid.concat(u),Y(t,n,m,o),m}c!==r.current&&u.push(c)}r.added++,r.invalid=r.invalid.concat(u);let f=document.createTextNode("");return Y(t,n,f,o),r.current=r.current+u.length+1,i>r.current?e.insertBefore(f,e.childNodes[r.current]):e.appendChild(f)}function z(e,t,n,o,r){let i=null;if(t.children){i="";for(let s=0;s<t.children.length;s++){let u=t.children[s],l=[e];r.arguments&&(l=l.concat(r.arguments));let f=u.expression?e.$$t[u.code].apply(null,l):u.content??"";i=s===0?f:i+(f??"")}}o.toLowerCase()in S.booleanAttributes?i===!0||i===null?o!==n.getAttribute(o)&&n.setAttribute(o,o):n.removeAttribute(o):i!==null?i!==n.getAttribute(o)&&n.setAttribute(o,i):n.removeAttribute(o)}var yt=0;function He(){return++yt}function M(e,t=!1,n,o){let r=document.createTextNode("");return r._anchor=o??"#"+ ++yt,n&&n.current++,t||n&&e.childNodes.length>n.current?(n?e:e.parentElement).insertBefore(r,n?e.childNodes[n.current]:e):e.appendChild(r),r}function bt(e,t,n,o,r,i,s){let u=[e];s.arguments&&(u=u.concat(s.arguments));let l=e.$$t[n.children[0].forData].apply(null,u),f=Array.isArray(l),c=o,m=!1,v={},N={};for(let y in l){let a=f?+y:y,k=l[a],d=++s.counter,p={id:d,why:"forItem",instance:e,arguments:[...s.arguments],map:{...s.map},track:[],parent:s,children:{},counter:0};s.refs&&(p.refs=s.refs),s.children[d]=p;let _=!1;for(let A in r)if(r[A]===k){_=!0,m=!1,c=o;break}else!m&&!(a in v)&&(c=r[A].begin,m=!0);if(v[a]=!0,!_){p.map[n.children[0].forKey]=p.arguments.length,p.arguments.push(a),p.map[n.children[0].forItem]=p.arguments.length,p.arguments.push(k);let A={map:{...i.map},storage:{...i.storage}},h=M(c,!0,void 0,"b"+He());L(c,e,[t],p,A,!1,!0);let C=M(c,!0,void 0,h._anchor);a in r&&(N[a]=r[a]),r[a]={key:a,value:k,begin:h,end:C,scope:p}}}for(let y in r)if(!(y in v)){let a=r[y].end;for(;a.previousSibling._anchor!==a._anchor;)a.previousSibling.remove();r[y].begin.remove(),a.remove(),F(r[y].scope),delete r[y]}for(let y in N){let a=N[y].end;for(;a.previousSibling._anchor!==a._anchor;)a.previousSibling.remove();N[y].begin.remove(),F(N[y].scope),a.remove()}}function Re(e,t,n,o,r,i,s){let u=!0;for(let c=0;c<s;c++)u=u&&!r.values[c];o.children&&(u=u&&!!e.$$t[o.children[0].code](e));let l=n.anchorNode,f={map:{...i.map},storage:{...i.storage}};if(r.values[s]!==u){let c=n.scope.parent;if(r.values[s]=u,u){let m=++c.counter,v={id:m,why:s===0?"if":o.children?"elseif":"else",instance:e,arguments:[...c.arguments],map:{...c.map},track:[],parent:c,children:{},counter:0};c.refs&&(v.refs=c.refs),n.scope=v,c.children[m]=v,L(l,e,[t],v,f,!1,!0)}else for(F(n.scope),n.scope={id:-1,why:"if",instance:e,arguments:[],map:{},track:[],parent:c,children:{},counter:0};l.previousSibling._anchor!==l._anchor;)l.previousSibling.remove()}}function vt(e,t,n){let o=t.expression?e.$$t[t.code](e):t.content??"";n.nodeValue!==o&&(n.nodeValue=o)}var Dt=0;function P(e,t,n,o){e.$$r[t]||(e.$$r[t]={});let r=++Dt;n.track.push({id:r,path:t}),e.$$r[t][r]=o}function q(e){let t="value";switch(e.t){case"t":{t="tag";break}case"a":{t="attr";break}case void 0:case"v":{t="value";break}case"c":{t="component";break}case"x":{t="text";break}case"m":{t="comment";break}case"d":{t="doctype";break}case"r":{t="root",e.h&&e.h[0].t==="x"&&e.h[0].c?.substring(0,9)==="<!DOCTYPE"&&(e.h[0].t="d");break}default:throw new Error("Type "+e.t+" is not defined in build")}if(e.type=t,delete e.t,e.c&&(e.content=e.c,delete e.c),e.e&&(e.expression=e.e,delete e.e),e.a){e.attributes=e.a,delete e.a;for(let n in e.attributes)q(e.attributes[n])}if(e.i){e.directives=e.i,delete e.i;for(let n in e.directives)q(e.directives[n])}if(e.h){e.children=e.h,delete e.h;for(let n in e.children)q(e.children[n])}}function De(e){return e in S.list}function Ct(e,t,n){let o=t.expression?e.$$t[t.code](e):t.content??"",r=t.type==="component"||t.expression&&De(o),i=n.anchorNode,s=n.scope.parent;for(F(n.scope);i.previousSibling._anchor!==i._anchor;)i.previousSibling.remove();let u=++s.counter,l={id:u,why:"dynamic",arguments:[...s.arguments],map:{...s.map},track:[],instance:e,parent:s,children:{},counter:0};if(s.refs&&(l.refs=s.refs),n.scope=l,s.children[u]=l,r){let f={};if(t.slots){let m={id:++l.counter,why:"slot",arguments:[...s.arguments],map:{...s.map},track:[],instance:e,parent:l,children:{},counter:0,slots:s.slots};for(let v in t.slots)f[v]={node:t.slots[v],scope:m}}Q(i,o,{attributes:t.attributes,scope:s,instance:e},f,!1,!0);return}else{let f=i.parentElement.insertBefore(document.createElement(o),i);if(t.attributes)for(let c in t.attributes){let m=t.attributes[c],v=m.expression?e.$$t[m.code](e):m.content??"";if(v[0]==="("){let N=v.substring(1,v.length-1);if(m.children){let y=e.$$t[m.dynamic?m.dynamic.code:m.children[0].code](e);f.addEventListener(N,y)}}else{z(e,m,f,v,l);let N=[];if(m.children)for(let y in m.children){let a=m.children[y];a.subs&&(N=N.concat(a.subs))}if(N)for(let y in N){let a=N[y];P(e,a,l,[z,[e,m,f,v,l]])}}}t.children&&L(f,e,t.children,l,void 0,!1,!1)}}function kt(e,t,n,o){for(;o.previousSibling._anchor!==o._anchor;)o.previousSibling.remove();let r=o.parentElement,i=document.createElement(r.nodeName),s=[e];n.arguments&&(s=s.concat(n.arguments));let u=(t.expression?e.$$t[t.code].apply(null,s):t.content)??"";i.innerHTML=u;let l=Array.prototype.slice.call(i.childNodes);for(let f=0;f<l.length;f++){let c=l[f];r.insertBefore(c,o)}}function Tt(e,t){return function(n){if(t.inputType==="checkbox"){let o=t.getter(e),r=n.target.value;if(Array.isArray(o)){let i=o.slice(),s=i.indexOf(r);s===-1?n.target.checked&&i.push(r):n.target.checked||i.splice(s,1),t.setter(e,i)}else t.setter(e,n.target.checked)}else if(t.inputType==="radio"){let o=n.target.value;t.setter(e,o)}else if(t.isMultiple){let o=n.target.options,r=[];for(let i=0;i<o.length;i++){let s=o[i];s.selected&&r.push(s.value)}t.setter(e,r)}else t.setter(e,n.target.value)}}function Fe(e,t,n){if(n.inputType==="checkbox"){let o=n.getter(t);if(Array.isArray(o)){let r=e.value;o.indexOf(r)===-1?(e.removeAttribute("checked"),e.checked=!1):(e.setAttribute("checked","checked"),e.checked=!0)}else o?(e.setAttribute("checked","checked"),e.checked=!0):(e.removeAttribute("checked"),e.checked=!1)}else if(n.inputType==="radio"){let o=n.getter(t),r=e.value;o===r?(e.setAttribute("checked","checked"),e.checked=!0):(e.removeAttribute("checked"),e.checked=!1)}else if(n.isMultiple){let o=e.options,r=n.getter(t);for(let i=0;i<o.length;i++){let s=o[i];r.indexOf(s.value)===-1?s.selected=!1:s.selected=!0}}else e.value=n.getter(t)}var Nt={},Vt="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",_t=Vt.split(",");for(let e=0;e<_t.length;e++)Nt[_t[e]]=!0;function At(e){return e.toLowerCase()in Nt}var Ue="http://www.w3.org/2000/svg";function L(e,t,n,o,r,i=!0,s=!1){let u=null,l=!1;for(let f=0;f<n.length;f++){let c=n[f],m=e,v=!1,N=!1,y=o;switch(c.type){case"tag":case"component":{if(c.directives){let h=r||{map:{},storage:{}},C=[t];o.arguments&&(C=C.concat(o.arguments));for(let T=0;T<c.directives.length;T++){let x=c.directives[T];if(!(T in h.map)){switch(h.map[T]=!0,x.content){case"if":{u={values:[],index:0,subs:[]};let b=!!t.$$t[x.children[0].code].apply(null,C);u.values.push(b);let w=i?H(e):void 0,E=M(e,s,w),D={map:{...h.map},storage:{...h.storage}},R=++o.counter,B={id:R,why:"if",arguments:o.arguments,map:o.map,instance:t,track:[],parent:o,children:{},counter:0};o.refs&&(B.refs=o.refs),o.children[R]=B,b&&L(e,t,[c],B,h,i,s);let O=M(e,s,w,E._anchor);if(x.children[0].subs)for(let I in x.children[0].subs){let V=x.children[0].subs[I];u.subs.push(V),P(t,V,o,[Re,[t,c,{scope:B,anchorNode:O},x,u,D,u.index]])}u.index++,v=!0;break}case"else-if":{if(u){let b=!0;for(let I=0;I<u.index;I++)b=b&&!u.values[I];b=b&&!u.values[u.index-1]&&!!t.$$t[x.children[0].code].apply(null,C),u.values.push(b);let w=i?H(e):void 0,E=M(e,s,w),D={map:{...h.map},storage:{...h.storage}},R=++o.counter,B={id:R,why:"elseif",instance:t,arguments:o.arguments,map:o.map,track:[],parent:o,children:{},counter:0};o.refs&&(B.refs=o.refs),o.children[R]=B,b&&L(e,t,[c],B,h,i,s);let O=M(e,s,w,E._anchor);x.children[0].subs&&(u.subs=u.subs.concat(x.children[0].subs));for(let I in u.subs){let V=u.subs[I];P(t,V,o,[Re,[t,c,{scope:B,anchorNode:O},x,u,D,u.index]])}u.index++,v=!0}else console.warn("Directive else-if has missing previous if/else-if",x.content,x);break}case"else":{if(u){let b=!0;for(let I=0;I<u.index;I++)b=b&&!u.values[I];u.values.push(b);let w=i?H(e):void 0,E=M(e,s,w),D={map:{...h.map},storage:{...h.storage}},R=++o.counter,B={id:R,why:"else",instance:t,arguments:o.arguments,map:o.map,track:[],parent:o,children:{},counter:0};o.refs&&(B.refs=o.refs),o.children[R]=B,b&&L(e,t,[c],B,h,i,s);let O=M(e,s,w,E._anchor);for(let I in u.subs){let V=u.subs[I];P(t,V,o,[Re,[t,c,{scope:B,anchorNode:O},x,u,D,u.index]])}u.index++,v=!0}else console.warn("Directive else has missing previous if/else-if",x.content,x);break}case"foreach":{let b=t.$$t[x.children[0].forData].apply(null,C),w=i?H(e):void 0,E=M(e,s,w),D=Array.isArray(b),R={};for(let O in b){let I=D?+O:O,V=b[I],qe=++o.counter,j={id:qe,why:"foreach",instance:t,arguments:[...o.arguments],map:{...o.map},track:[],parent:o,children:{},counter:0};o.refs&&(j.refs=o.refs),o.children[qe]=j,j.map[x.children[0].forKey]=j.arguments.length,j.arguments.push(I),j.map[x.children[0].forItem]=j.arguments.length,j.arguments.push(V);let Mt={map:{...h.map},storage:{...h.storage}},Je=M(e,s,w,"b"+He());L(e,t,[c],j,Mt,i,s);let Et=M(e,s,w,Je._anchor);R[I]={key:I,value:V,begin:Je,end:Et,scope:j}}let B=M(e,s,w,E._anchor);if(x.children[0].subs)for(let O in x.children[0].subs){let I=x.children[0].subs[O],V={map:{...h.map},storage:{...h.storage}};P(t,I,o,[bt,[t,c,x,B,R,V,o]])}v=!0;break}default:{console.warn("Directive not implemented",x.content,x),v=!0;break}}if(v)break}}if(v)continue}let a=c.expression?t.$$t[c.code](t):c.content??"",k=c.expression,d=c.type==="component"||c.expression&&De(a),p,_,A=o;if(k&&(p=i?H(e):void 0,_=M(e,s,p)),k){let h=++o.counter;A={id:h,why:"dynamic",arguments:[...o.arguments],map:{...o.map},track:[],instance:t,parent:o,children:{},counter:0},o.refs&&(A.refs=o.refs),o.children[h]=A,y=A}if(d){let h={};if(c.slots){let C=++A.counter,T={id:C,why:"slot",arguments:[...o.arguments],map:{...o.map},track:[],parent:A,instance:t,children:{},counter:0,slots:o.slots};o.refs&&(T.refs=o.refs),A.children[C]=T;for(let x in c.slots)h[x]={node:c.slots[x],scope:T}}Q(e,a,{attributes:c.attributes,scope:o},h,i,s)}else{if(c.content==="template"){l=s;break}if(c.content==="slot"){p||(p=i?H(e):void 0),l=s;let C="default";if(c.attributes)for(let b in c.attributes)c.attributes[b].content==="name"&&(C=c.attributes[b].children[0].content);let T=M(e,s,p);if(C in o.slots){let b=o.slots[C];b.node.unpacked||(q(b.node),b.node.unpacked=!0),L(m,b.scope.instance,b.node.children,b.scope,void 0,i,l)}else c.children&&L(m,t,c.children,o,void 0,i,l);let x=M(e,s,p,T._anchor);o.instance._name in $.iteration&&($.iteration[o.instance._name].slots[C]=x);continue}N=!0;let h=At(a)||e.isSvg;m=i?gt(e,a):s?e.parentElement.insertBefore(h?document.createElementNS(Ue,a):document.createElement(a),e):e.appendChild(h?document.createElementNS(Ue,a):document.createElement(a)),c.first&&(t._element=m),h&&(m.isSvg=!0)}if(k){let h=M(e,s,p,_._anchor);if(c.subs)for(let C in c.subs){let T=c.subs[C];P(t,T,o,[Ct,[t,c,{scope:A,anchorNode:h}]])}}if(d)continue;break}case"text":{if(c.raw){let k=s?e.parentElement:e,d=document.createElement(k.nodeName),p=[t];o.arguments&&(p=p.concat(o.arguments));let _=(c.expression?t.$$t[c.code].apply(null,p):c.content)??"";d.innerHTML=_;let A=i?H(e):void 0,h=M(e,s,A);if(i){if(d.childNodes.length>0){let T=Array.prototype.slice.call(d.childNodes);for(let x=0;x<T.length;x++){let b=T[x],w=b.nodeType;if(w!==3){A.current++;let E=e.childNodes[A.current];if(!E||E.nodeType!==w||w===1&&E.nodeName!==b.nodeName)console.log("Missmatch");else if(w===1&&(E.nodeName!==b.nodeName||E.outerHTML!==b.outerHTML)){let D=E.getAttribute("data-keep");(!D||D!==b.getAttribute("data-keep"))&&(E.outerHTML=b.outerHTML)}}}}}else if(d.childNodes.length>0){let T=Array.prototype.slice.call(d.childNodes);for(let x=0;x<T.length;x++){let b=T[x];s?e.parentElement.insertBefore(b,e):e.appendChild(b)}}let C=M(e,s,A,h._anchor);if(c.subs)for(let T in c.subs){let x=c.subs[T];P(t,x,o,[kt,[t,c,o,C]])}break}let a;if(i?a=xt(e,t,c,o):(a=document.createTextNode(""),Y(t,c,a,o),s?e.parentElement.insertBefore(a,e):e.appendChild(a)),c.subs)for(let k in c.subs){let d=c.subs[k];P(t,d,o,[Y,[t,c,a,o]])}break}case"comment":{let a=c.expression?t.$$t[c.code](t):c.content??"",k=i?ht(e,a):s?e.parentElement.insertBefore(document.createComment(a),e):e.appendChild(document.createComment(a));if(c.subs)for(let d in c.subs){let p=c.subs[d];P(t,p,o,[vt,[t,c,k]])}break}case"doctype":{if(i){let a=H(e);a.current++}break}default:{console.warn("Node type not implemented",c);break}}if(N){if(c.attributes){let a=i?m.getAttributeNames():null,k=i?{}:null;for(let d=0;d<c.attributes.length;d++){let p=c.attributes[d],_=p.expression?t.$$t[p.code](t):p.content??"";if(_[0]==="#"){let h=_.substring(1,_.length);t._refs[h]=m,o.refs&&h in o.refs&&(t[h]=m);continue}let A=_==="model";if(_[0]==="("){let h=_.substring(1,_.length-1);if(p.children){let C=t.$$t[p.dynamic?p.dynamic.code:p.children[0].code](t);m.addEventListener(h,C)}}else if(A){let h="text";m.getAttribute("type")==="checkbox"&&(h="checkbox"),m.getAttribute("type")==="radio"&&(h="radio");let C=!1;m.tagName==="SELECT"&&(h="select",C=m.multiple);let T=h==="checkbox"||h==="radio"||h==="select",x=p.children[0],b=t.$$t[x.code](t),w=T?"change":"input",E={getter:b[0],setter:b[1],inputType:h,isMultiple:C};Fe(m,t,E);for(let D in x.subs){let R=x.subs[D];P(t,R,o,[Fe,[m,t,E]])}m.addEventListener(w,Tt(t,E))}else{i&&(k[_]=!0),z(t,p,m,_,o);let h=[];if(p.children)for(let C in p.children){let T=p.children[C];T.subs&&(h=h.concat(T.subs))}if(h)for(let C in h){let T=h[C];P(t,T,o,[z,[t,p,m,_,o]])}}}if(i)for(let d=0;d<a.length;d++)a[d]in k||m.removeAttribute(a[d])}else if(i){let a=m.getAttributeNames();for(let k=0;k<a.length;k++)m.removeAttribute(a[k])}}c.children&&L(m,t,c.children,y,void 0,i,l)}}var Ot={},jt=0;function Ke(e,t={}){let n=S.list[e],o=null,r=!1;if(n.di==="Singleton"?r=Ot:n.di==="Scoped"&&(r=$.scopedContainer),r&&e in r)return r[e];if(n.custom)o=Ve[e]();else if(!n.dependencies)o=new G[e];else{let u=[];for(let l in n.dependencies){let f=n.dependencies[l];var i=null;t&&f.argName in t?i=t[f.argName]:f.default?i=f.default:f.null?i=null:f.builtIn?i=f.name==="string"?"":0:i=Ke(f.name),u.push(i)}o=new G[e](...u)}n.base&&(o.__id=++jt+"");let s=se();if(s.state[e])for(let u in s.state[e])o[u]=s.state[e][u];return r&&(r[e]=o),o}function $t(e,t,n,o){e[t]=n(o)}function wt(e,t,n){let o=n.scope.instance,r=t.expression?o.$$t[t.code](o):t.content??"";if(r[0]!=="("){let i=null,s=[];if(t.children)for(let u=0;u<t.children.length;u++){let l=t.children[u],f=[o];n.scope.arguments&&(f=f.concat(n.scope.arguments));let c=l.expression?o.$$t[l.code].apply(null,f):l.content??"";i=u===0?c:i+(c??""),l.subs&&(s=s.concat(l.subs))}if(r==="_props"&&i)for(let u in i)e[u]=i[u],e._props[u]=i[u];else e[r]=i,e._props[r]=i}}function Q(e,t,n,o,r=!1,i=!1,s={}){if(!(t in S.list))throw new Error(`Component ${t} not found.`);if(!(t in G))throw new Error(`Component ${t} not found.`);let u=S.list[t],l=u.nodes,f=$.lastIteration,c=t in f;if(c){let a=f[t].slots;for(let k in a){let d=a[k];for(;d.previousSibling._anchor!==d._anchor;)d.previousSibling.remove()}f[t].scope.keep=!0}let m=c?f[t].instance:dt(Ke(t,s));c||u.hooks&&u.hooks.init&&m.init();let v=t+"_x";!c&&v in G&&(m.$$t=G[v]);let N=n?++n.scope.counter:0,y=c?f[t].scope:{id:N,why:t,arguments:n?[...n.scope.arguments]:[],instance:m,main:!0,map:n?{...n.scope.map}:{},track:[],children:{},counter:0,parent:n?n.scope:void 0,slots:o};if(n&&(n.scope.children[N]=y),u.refs&&(y.refs=u.refs),n&&n.attributes){let a=n.scope.instance;for(let k in n.attributes){let d=n.attributes[k],p=d.expression?a.$$t[d.code](a):d.content??"";if(p[0]==="("){let _=p.substring(1,p.length-1);if(d.children){let A=a.$$t[d.dynamic?d.dynamic.code:d.children[0].code](a);m.$_callbacks[_]=A}}else{let _=p==="model",A=null,h=[];if(_){let C=d.children[0],T=[a];n.scope.arguments&&(T=T.concat(n.scope.arguments));let x=a.$$t[C.code].apply(null,T);A=x[0](a),m.$_callbacks[p]=mt(a,x[1]);for(let b in C.subs){let w=C.subs[b];P(a,w,n.scope,[$t,[m,p,x[0],a]])}}else if(d.children)for(let C=0;C<d.children.length;C++){let T=d.children[C],x=[a];n.scope.arguments&&(x=x.concat(n.scope.arguments));let b=T.expression?a.$$t[T.code].apply(null,x):T.content??"";A=C===0?b:A+(b??""),T.subs&&(h=h.concat(T.subs))}else A=!0;if(p==="_props"&&A)for(let C in A)m[C]=A[C],m._props[C]=A[C];else m[p]=A,m._props[p]=A;if(h)for(let C in h){let T=h[C];P(a,T,n.scope,[wt,[m,d,n]])}}}}if(t in $.located&&($.iteration[t]={instance:m,scope:y,slots:{}}),c){let a=f[t].slots;for(let d in a){let p=a[d];if(p.parentNode&&document.body.contains(p)){if(o&&d in o){let _=o[d];_.node.unpacked||(q(_.node),_.node.unpacked=!0),L(p,_.scope.instance,_.node.children,_.scope,void 0,!1,!0)}$.iteration[t].slots[d]=p}}let k=t;for(;k;){let d=S.list[k];k=!1;let p=d.nodes;if(p){let _=p.children;_&&_[0].type==="component"&&_[0].content in f&&($.iteration[_[0].content]=f[_[0].content],k=_[0].content)}}return y}if(e&&l){l.unpacked||(q(l),l.unpacked=!0);let a=l.children;a&&(a[0].type==="component"&&($.located[a[0].content]=!0),a[0].first=!0,L(e,m,a,y,void 0,r,i))}return y}function St(e,t,n,o){if(!(e in S.list))throw new Error(`Component ${e} not found.`);let r=S.list[e],i=$.hydrate,s=$.rootScope;if(o){if(s&&r.parent!==$.layout){location.href=o.href;return}o.func(o.href,o.forward)}$.layout=r.parent,$.lastIteration=$.iteration,$.iteration={},$.scopedContainer={},$.located={},$.rootScope=Q(n??document,e,void 0,{},i,!1,t),$.hydrate=!1;for(let u in $.lastIteration)u in $.iteration||($.lastIteration[u].scope.keep=!1);if(s&&F(s),i)for(let u in W){let l=W[u];for(let f=l.target.childNodes.length-1;f>=l.current+1;f--)l.target.childNodes[f].remove();for(let f=l.invalid.length-1;f>=0;f--)l.target.childNodes[l.invalid[f]].remove()}}var Ft=document.createElement("a"),U={link:Ft,scrollTo:null};var Ut=function(e){return U.link.href=e,U.link.pathname},Kt=function(e,t=!0){t&&window.history.pushState({href:e},"",e)};function Z(e,t=!0){let n=Ut(e),o=S.router.resolve(n);if(o==null)throw"Can't resolve route for uri: "+n;St(o.item.action,o.params,void 0,{func:Kt,href:e,forward:t})}function It(){document.addEventListener("click",function(e){if(e.defaultPrevented)return;e.target||console.warn('Can not aquire event target at "watchLinks".');let n=e.target;for(;n.parentElement&&n.tagName!=="A";)n=n.parentElement;n.tagName==="A"&&n.href&&n.href.indexOf(location.origin)===0&&(U.scrollTo=null,(!U.link.hash||U.link.pathname!==location.pathname)&&(e.preventDefault(),U.link.hash&&(U.scrollTo=U.link.hash),Z(n.href,!0)))},!1),window.addEventListener("popstate",function(e){e.state?Z(e.state.href,!1):Z(location.href,!1)})}var qt=()=>({version:"2.0.1"});globalThis.Viewi=qt;console.log("Viewi entry");(async()=>{let e=await(await fetch("/assets/components.json")).json();S.list=e,S.router.setRoutes(e._routes),S.config=e._config;let t=e._meta.boolean.split(",");for(let n=0;n<t.length;n++)S.booleanAttributes[t[n]]=!0;Xe(),It(),Z(location.href)})();})();
