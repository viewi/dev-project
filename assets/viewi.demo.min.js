(()=>{var ee=class{id=0;name=null};var te=class{id=null;name=null};var ue=class{request(t,n){var o=this,r=t.withHeader("X-Test-ID","mytoken");n.next(r)}response(t,n){var o=this,r=t.withBody("Access denied").withStatus(400);n.next(r)}};var E={componentsPath:"/assets/viewi.demo.json",publicPath:"/assets/",name:"demo",minify:!1,combine:!1,appendVersion:!1,build:"KqkDC1S0",version:"2.0.0"};var L=window.ViewiApp?window.ViewiApp[E.name].register:{};var bn=L.HttpClient,ae=class{CSRFToken=null;http=null;constructor(t){var n=this;n.http=t}request(t,n){var o=this;o.CSRFToken===null?o.http.post("/api/session").then(function(r){o.CSRFToken=r.CSRFToken,o.handleRequest(t,n)},function(){n.reject(t)}):o.handleRequest(t,n)}handleRequest(t,n){var o=this,r=t.withHeader("X-CSRF-TOKEN",o.CSRFToken);n.next(r)}response(t,n){var o=this;t.status===0?(t.status=200,t.body=new ee,t.body.id=0,t.body.name="Mockup Post due to rejected request"):t.body.id+=1e3,n.next(t)}};var le=class{run(t){var n=this;t.next()}};var kn=L.Platform,me=class{config=null;platform=null;constructor(t){var n=this;n.platform=t,n.config=t.getConfig()}navigateBack(){var t=this;t.platform.navigateBack()}navigate(t){var n=this;n.platform.redirect(t)}getUrl(){var t=this;return t.platform.getCurrentUrl()}getUrlPath(){var t=this;return t.platform.getCurrentUrlPath()}getQueryParams(){var t=this;return t.platform.getQueryParams()}};var fe=class{route=null;constructor(t){var n=this;n.route=t}run(t){var n=this;t.next(!1),n.route.navigate("/")}};var pe=class{count=0;increment(){var t=this;t.count++}decrement(){var t=this;t.count--}};var de=class{items=[];addNewItem(t){var n=this;n.items=[...n.items,t]}};var y=class{__id="";_props={};$_callbacks={};_refs={};_slots={};_element=null;$$t=[];$$r={};$$p=[];$;_name="BaseComponent";emitEvent(t,n){t in this.$_callbacks&&this.$_callbacks[t](n)}};var he=class extends y{_name="DemoContainer"};function W(e){let t=typeof window<"u"?window:global;t.$locutus=t.$locutus||{};let n=t.$locutus;n.php=n.php||{};let o=t.JSON,r;try{if(typeof o=="object"&&typeof o.stringify=="function"){if(r=o.stringify(e),r===void 0)throw new SyntaxError("json_encode");return r}let c=e,u=function(a){let m=["\0-","\x7F-\x9F","\xAD","\u0600-\u0604","\u070F","\u17B4","\u17B5","\u200C-\u200F","\u2028-\u202F","\u2060-\u206F","\uFEFF","\uFFF0-\uFFFF"].join(""),s=new RegExp('[\\"'+m+"]","g"),p={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return s.lastIndex=0,s.test(a)?'"'+a.replace(s,function(x){let k=p[x];return typeof k=="string"?k:"\\u"+("0000"+x.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'};var i=function(a,m){let s="",p="    ",x=0,k="",b="",l=0,h=s,d=[],f=m[a];switch(f&&typeof f=="object"&&typeof f.toJSON=="function"&&(f=f.toJSON(a)),typeof f){case"string":return u(f);case"number":return isFinite(f)?String(f):"null";case"boolean":return String(f);case"object":if(!f)return"null";if(s+=p,d=[],Object.prototype.toString.apply(f)==="[object Array]"){for(l=f.length,x=0;x<l;x+=1)d[x]=i(x,f)||"null";return b=d.length===0?"[]":s?`[
`+s+d.join(`,
`+s)+`
`+h+"]":"["+d.join(",")+"]",b}for(k in f)Object.hasOwnProperty.call(f,k)&&(b=i(k,f),b&&d.push(u(k)+(s?": ":":")+b));return b=d.length===0?"{}":s?`{
`+s+d.join(`,
`+s)+`
`+h+"}":"{"+d.join(",")+"}",b;case"undefined":case"function":default:throw new SyntaxError("json_encode")}};return i("",{"":c})}catch(c){if(!(c instanceof SyntaxError))throw new Error("Unexpected error type in json_encode()");return n.php.last_error_json=4,null}}var ge=class extends y{_name="ViewiIcon"};var ye=class extends y{_name="MenuBar";route=null;constructor(t){super();var n=this;n.route=t}goHome(){var t=this;t.route.navigate("/")}back(){var t=this;t.route.navigateBack()}getCurrentUrl(){var t=this;return t.route.getUrlPath()}getQueryParams(){var t=this;return t.route.getQueryParams()}},st=[function(e){return function(t){e.goHome(t)}},function(e){return function(t){e.back(t)}},function(e){return`
                Url: `+(e.getCurrentUrl()??"")+`
            `},function(e){return`
                Url: `+(W(e.getQueryParams())??"")+`
            `}];function Q(e){var t=e+"";return t.length}var xe=class extends y{_name="Counter";count=0;message="My message";increment(){var t=this;t.count++,t.message+="!"}decrement(){var t=this;t.count--}},ct=[function(e){return function(t){e.decrement()}},function(e){return e.count%10+12},function(e){return`
    Count `+(e.count??"")+" "+(Q(e.message)??"")+`
`},function(e){return`
Count `+(e.count??"")+" strlen:"+(Q(e.message)??"")+`
`},function(e){return function(t){e.count++}},function(e){return function(t){e.increment()}},function(e){return function(t){e.increment(t)}},function(e){return function(t){e.increment(t)}},function(e){return e.message}];var be=class extends y{_name="ViewiAssets";appPath="";data='<script data-keep="ViewiAssets">"ViewiAssets";<\/script>'},ut=[function(e){return e.data},function(e){return e.appPath}];var ve=class extends y{_name="Layout";title="Viewi"},at=[function(e){return`
        `+(e.title??"")+` | Viewi
    `}];var Ce=class extends y{_name="PanelLayout";title="Viewi";timerId=0;seconds=0;init(){var t=this;t.seconds=500,this.timerId=setInterval(()=>t.tick(),1e3)}destroy(){var t=this;clearInterval(this.timerId)}tick(){var t=this;t.seconds++,console.log("PanelLayout time "+t.seconds)}},lt=[function(e){return e.seconds},function(e){return e.title},function(e){return"Panel: "+(e.seconds??"")+" "+(e.title??"")}];var Te=class extends y{_name="HomePage";title="Viewi v2 - Build reactive front-end with PHP";timerId=0;seconds=0;init(){var t=this;t.seconds=100,this.timerId=setInterval(()=>t.tick(),1e3)}destroy(){var t=this;clearInterval(this.timerId)}tick(){var t=this;t.seconds++,console.log("HomePage time "+t.seconds)}},mt=[function(e){return e.title},function(e){return e.title},function(e){return"Seconds: "+(e.seconds??"")}];var ke=class extends y{_name="AreaLayout";title="Area Layout"},ft=[function(e){return`
        `+(e.title??"")+` | Area
    `}];var we=class extends y{_name="NotFoundPage"};var Ne=class extends y{_name="StatefulCounter";counter=null;count=null;constructor(t,n){super();var o=this;n=typeof n<"u"?n:0,o.counter=t,o.count=n,o.counter.count+=100}},pt=[function(e){return function(t){e.counter.decrement()}},function(e){return e.__id},function(e){return e.counter.count},function(e){return function(t){e.counter.increment()}}];var _e=class extends y{_name="CounterPage"};var Ae=class extends y{_name="MemberPage"};var Se=class extends y{_name="MemberPageNoAccess"};var nr=L.HttpClient,$e=class extends y{_name="PostPage";post=null;error="";message="";http=null;id=null;constructor(t,n){super();var o=this;o.http=t,o.id=n}init(){var t=this;t.http.withInterceptor("SessionInterceptor").get("/api/post/"+t.id).then(function(n){t.post=n,t.message="Post has been read successfully"},function(){t.error="Server error"})}},dt=[function(e){return e.post?e.post.name:""},function(e){return"Message: "+(e.message??"")},function(e){return"Error: "+(e.error??"")},function(e){return e.post},function(e){return`
            `+(e.post.id??"")+" "+(e.post.name??"")+`
        `}];var Ie=class extends y{_name="TestLayoutPage"};var ar=L.Platform,Me=class{config=null;platform=null;constructor(t){var n=this;n.platform=t,n.config=t.getConfig()}getAll(){var t=this;return t.config}get(t){var n=this;return n.config[t]??null}};function X(e,t){let n,o=0;if(e===null||typeof e>"u")return 0;if(e.constructor!==Array&&e.constructor!==Object)return 1;t==="COUNT_RECURSIVE"&&(t=1),t!==1&&(t=0);for(n in e)e.hasOwnProperty(n)&&(o++,t===1&&e[n]&&(e[n].constructor===Array||e[n].constructor===Object)&&(o+=X(e[n],1)));return o}var Be=class extends y{_name="TodoList";items=null},ht=[function(e){return e.items},function(e,t,n){return n}];var Ee=class extends y{_name="TodoApp";text="";items=[];handleSubmit(t){var n=this;t.preventDefault(),Q(n.text)!=0&&(n.items=[...n.items,n.text],n.text="")}},gt=[function(e){return function(t){e.handleSubmit(t)}},function(e){return[function(t){return t.text},function(t,n){t.text=n}]},function(e){return`
        Add #`+(X(e.items)+1)+`
    `},function(e){return e.items}];var Le=class extends y{_name="TestInput";id=null;model=null;onInput(t){var n=this;n.emitEvent("model",t.target.value)}},yt=[function(e){return function(t){e.onInput(t)}},function(e){return[function(t){return t.model},function(t,n){t.model=n}]}];var Pe=class extends y{_name="TestButton";id=null;title=null;class=null;disabled=!1;loading=!1;onClick(t){var n=this;n.emitEvent("click",t)}},xt=[function(e){return e.id},function(e){return e.disabled},function(e){return e.title},function(e){return e.class},function(e){return function(t){e.onClick(t)}},function(e){return" "+(e.title??"")+`
    `},function(e){return e.loading}];var Re=class extends y{_name="ItemComponent"};var He=class extends y{_name="SomeComponent"};var De=class extends y{_name="TestComponent";name="MyName";name2="";_name2_Test="MyName_2";empty="";null=null;url="/home";attr="title";event="(click)";arr=["a","b","c"];arrWithKeys={a:"Apple",b:"Orange",c:"Lemon"};arrNested={a:{a:"Apple",b:"Orange",c:"Lemon"},b:{a:"Apple",b:"Orange",c:"Lemon"},c:{a:"Apple",b:"Orange",c:"Lemon"}};ifValue=!0;ifElseValue=!0;nestedIf=!0;dynamic="div";dynamic2="ItemComponent";raw="<b><i>Raw html text</i></b>";isDisabled=!0;message="Some message";checked=!1;checked2=!0;checkedNames=[];picked="One";selected="";selectedList=["A","C"];user=null;NameInput=null;testModel="some test";counterReducer=null;constructor(t){super();var n=this;n.counterReducer=t,n.user=new te,n.user.id=1,n.user.name="Miki the cat",n.counterReducer.increment()}getNames(){var t=this;return W(t.checkedNames)}getName(t){var n=this;t=typeof t<"u"?t:null;var o=(1+5)*10;return t??"DefaultName"}addTodo(){var t=this;t.arrNested={a:{a:"Apple",b:"Orange",c:"Lemon"},d:{R:"Rat",T:"Dog",G:"Cat"},b:{a:"Apple",b:"Orange",c:"Lemon"}}}onEvent(t){var n=this;t.preventDefault()}toggleIf(){var t=this;t.ifValue=!t.ifValue,t.arr=t.ifValue?["a","b","c"]:["x","b","r"]}toggleElseIf(){var t=this;t.ifElseValue=!t.ifElseValue}},bt=[function(e){return"Tag test "+(e.name??"")+" "+(e.name2??"")+" "+(e._name2_Test??"")},function(e){return`
    $notAVar `+(e.getName()??"")+" "+(e.getName(e.name)??"")+`
    Nested
    `},function(e){return e.url},function(e){return e.empty},function(e){return e.null},function(e){return e.attr},function(e){return function(t){expression(t)}},function(e){return e.event},function(e){return function(t){e.onEvent(t)}},function(e){return[function(t){return t.testModel},function(t,n){t.testModel=n}]},function(e){return e.testModel},function(e){return[function(t){return t.testModel},function(t,n){t.testModel=n}]},function(e){return function(){e.counterReducer.increment()}},function(e){return"Clicked "+(e.counterReducer.count??"")+`
`},function(e){return function(){e.counterReducer.increment()}},function(e){return"Clicked "+(e.counterReducer.count??"")},function(e){return function(t){e.counterReducer.increment(t)}},function(e){return"Clicked "+(e.counterReducer.count??"")},function(e){return e.__id},function(e){return"First Name ("+(e.__id??"")+")"},function(e){return e.__id},function(e){return function(t){e.counterReducer.increment()}},function(e){return"Clicked "+(e.counterReducer.count??"")},function(e){return function(t){e.nestedIf=!e.nestedIf}},function(e){return e.nestedIf},function(e){return[function(t){return t.user.name},function(t,n){t.user.name=n}]},function(e){return e.user.name},function(e){return e.name},function(e){return"Custom "+(e.name??"")},function(e){return[function(t){return t.name},function(t,n){t.name=n}]},function(e){return[function(t){return t.name},function(t,n){t.name=n}]},function(e){return`
    `+(e.name??"")+`
`},function(e){return[function(t){return t.name2},function(t,n){t.name2=n}]},function(e){return`
    `+(e.name2??"")+`
`},function(e){return[function(t){return t.message},function(t,n){t.message=n}]},function(e){return e.message},function(e){return[function(t){return t.checked},function(t,n){t.checked=n}]},function(e){return e.checked},function(e){return[function(t){return t.checked2},function(t,n){t.checked2=n}]},function(e){return e.checked2},function(e){return[function(t){return t.checkedNames},function(t,n){t.checkedNames=n}]},function(e){return[function(t){return t.checkedNames},function(t,n){t.checkedNames=n}]},function(e){return[function(t){return t.checkedNames},function(t,n){t.checkedNames=n}]},function(e){return"Checked names: "+(e.getNames()??"")},function(e){return[function(t){return t.picked},function(t,n){t.picked=n}]},function(e){return[function(t){return t.picked},function(t,n){t.picked=n}]},function(e){return"Picked: "+(e.picked??"")},function(e){return[function(t){return t.selected},function(t,n){t.selected=n}]},function(e){return"Selected: "+(e.selected??"")},function(e){return[function(t){return t.selectedList},function(t,n){t.selectedList=n}]},function(e){return[function(t){return t.selectedList},function(t,n){t.selectedList=n}]},function(e){return"Selected: "+(W(e.selectedList)??"")},function(e){return e.isDisabled},function(e){return!e.isDisabled},function(e){return e.isDisabled?" mui-btn":""},function(e){return e.isDisabled?" mui-btn--primary":""},function(e){return e.isDisabled?"":" mui-btn--accent"},function(e){return function(t){e.isDisabled=!e.isDisabled}},function(e){return function(t){e.isDisabled=!e.isDisabled}},function(e){return e.raw},function(e){return e.raw},function(e){return function(t){e.raw=e.raw[0]==="<"?"New RAW: <span><i>Another content</i></span>":"<b><i>Raw html text</i></b>"}},function(e){return e.nestedIf},function(e){return e.name},function(e){return"Custom "+(e.name??"")},function(e){return e.nestedIf},function(e){return{id:"myid",title:"Custom "+e.name,class:"mui-btn--accent"}},function(e){return`
    Custom `+(e.name??"")+`
`},function(e){return function(t){e.name="Viewi Junior"}},function(e){return function(t){e.nestedIf=!e.nestedIf}},function(e){return e.nestedIf},function(e){return"Custom "+(e.name??"")+" Slot"},function(e){return e.nestedIf},function(e){return e.arrNested},function(e,t,n){return`
    Custom `+(e.name??"")+` Slot
    `},function(e,t,n){return n},function(e,t,n,o,r){return t},function(e,t,n,o,r){return o},function(e,t,n,o,r){return r},function(e,t,n,o,r){return t+". "+(o??"")+". "+(r??"")},function(e,t,n){return e.nestedIf},function(e,t,n){return e.name},function(e){return function(t){e.nestedIf=!e.nestedIf}},function(e){return function(t){e.dynamic=e.dynamic==="div"?"ItemComponent":"div"}},function(e){return`
`+(e.dynamic??"")+" "+(e.dynamic2??"")+`
`},function(e){return e.dynamic},function(e){return"Tag or component "+(e.dynamic??"")+" "+(e.dynamic2??"")},function(e){return e.dynamic2},function(e){return"Tag or component "+(e.dynamic??"")+" "+(e.dynamic2??"")},function(e){return"Custom "+(e.name??"")+" Slot"},function(e){return"Custom "+(e.name??"")+` slot
        `},function(e){return"Custom header "+(e.name??"")+" inside div"},function(e){return"Custom "+(e.name??"")+" footer"},function(e){return function(t){e.addTodo(t)}},function(e){return e.nestedIf},function(e){return e.name},function(e){return e.ifValue},function(e){return e.arrNested},function(e,t,n){return n},function(e,t,n,o,r){return t+". "+(o??"")+". "+(r??"")},function(e){return e.arr},function(e,t,n){return e.ifElseValue},function(e,t,n){return n},function(e,t,n){return n},function(e,t,n){return n},function(e,t,n){return e.nestedIf},function(e,t,n){return e.name},function(e){return e.arr},function(e,t,n){return t},function(e,t,n){return n},function(e,t,n){return t+". "},function(e,t,n){return n},function(e,t,n){return n},function(e){return e.arrWithKeys},function(e,t,n){return t},function(e,t,n){return n},function(e,t,n){return t+": "},function(e,t,n){return t},function(e,t,n){return n},function(e,t,n){return n},function(e){return e.ifValue},function(e){return e.arrNested},function(e,t,n){return n},function(e,t,n,o,r){return t},function(e,t,n,o,r){return o},function(e,t,n,o,r){return r},function(e,t,n,o,r){return t+". "+(o??"")+". "+(r??"")},function(e){return e.arrNested},function(e,t,n){return t==="b"},function(e,t,n){return n},function(e,t,n,o,r){return t},function(e,t,n,o,r){return o},function(e,t,n,o,r){return r},function(e,t,n,o,r){return t+". "+(o??"")+". "+(r??"")},function(e){return function(t){e.toggleIf(t)}},function(e){return function(t){e.toggleElseIf(t)}},function(e){return function(t){e.nestedIf=!e.nestedIf}},function(e){return function(t){e.name="Viewi Junior"}},function(e){return e.ifValue},function(e){return e.ifElseValue},function(e){return e.ifValue},function(e){return e.ifElseValue},function(e){return e.arr},function(e,t,n){return n}];var ni=L.Platform,Ve=class extends y{_name="TestPage";baseUrl="";platform=null;config=null;constructor(t,n){super();var o=this;o.platform=t,o.config=n,o.baseUrl=n.get("baseUrl")}getEnvironment(){var t=this;return t.platform.browser?"Browser":"Server"}},vt=[function(e){return"Config base url: "+(e.baseUrl??"")},function(e){return"Env: "+(e.getEnvironment()??"")}];var Oe=class extends y{_name="StatefulTodoApp";text="";todo=null;constructor(t){super();var n=this;n.todo=t}handleSubmit(t){var n=this;t.preventDefault(),Q(n.text)!=0&&(n.todo.addNewItem(n.text),n.text="")}},Ct=[function(e){return function(t){e.handleSubmit(t)}},function(e){return[function(t){return t.text},function(t,n){t.text=n}]},function(e){return`
        Add #`+(X(e.todo.items)+1)+`
    `},function(e){return e.todo.items}];var je=class extends y{_name="TodoAppPage"};var j={PostModel:ee,UserModel:te,ExampleInterceptor:ue,SessionInterceptor:ae,MermberGuard:le,MermberGuardNoAccess:fe,CounterReducer:pe,TodoReducer:de,DemoContainer:he,MenuBar_x:st,MenuBar:ye,ViewiIcon:ge,Counter_x:ct,Counter:xe,HomePage_x:mt,HomePage:Te,AreaLayout_x:ft,AreaLayout:ke,Layout_x:at,Layout:ve,PanelLayout_x:lt,PanelLayout:Ce,NotFoundPage:we,CounterPage:_e,MemberPage:Ae,MemberPageNoAccess:Se,PostPage_x:dt,PostPage:$e,TestLayoutPage:Ie,TestPage_x:vt,TestPage:Ve,TodoAppPage:je,StatefulCounter_x:pt,StatefulCounter:Ne,StatefulTodoApp_x:Ct,StatefulTodoApp:Oe,ItemComponent:Re,SomeComponent:He,TestButton_x:xt,TestButton:Pe,TestComponent_x:bt,TestComponent:De,TestInput_x:yt,TestInput:Le,TodoApp_x:gt,TodoApp:Ee,TodoList_x:ht,TodoList:Be,ViewiAssets_x:ut,ViewiAssets:be,ConfigService:Me,ClientRoute:me},Tt="{}";var kt={json_encode:W,strlen:Q,count:X};var Fe=class{method;url;action;wheres;defaults=null;constructor(t,n,o,r=null,i){this.method=t,this.url=n,this.action=o,this.wheres={},this.defaults=r,i&&(this.wheres=i)}where(t,n){return t!==null&&typeof t=="object"?this.wheres=Object.assign(this.where,t):n&&(this.wheres[t]=n),this}};var Ue=class{routes;trimExpr=/^\/|\/$/g;setRoutes(t){this.routes=t}getRoutes(){return this.routes}register(t,n,o,r=null,i){let c=new Fe(t.toLowerCase(),n,o,r,i);return this.routes.push(c),c}get(t,n){return this.register("get",t,n)}resolve(t){t=t.replace(this.trimExpr,"");let n=t.split("/");for(let o in this.routes){let r={},i=!0,c=this.routes[o],a=c.url.replace(this.trimExpr,"").split("/"),m=0,s=!1;for(m;m<a.length;m++){let p=a[m];if(p.indexOf("*")!==-1){let b=p.slice(0,-1);if(!b||n[m].indexOf(b)===0){s=!0;break}}let k=p.indexOf("{")!==-1;if(p!==n[m]&&!k){i=!1;break}if(k){let b=p.split(/[{}]+/),l=b[1];if(l[l.length-1]==="?")l=l.slice(0,-1);else if(m>=n.length){i=!1;break}if(l.indexOf("<")!==-1){let d=/<([^>]+)>/.exec(l);d&&(l=l.replace(/<([^>]+)>/g,""),c.wheres[l]=d[1])}if(c.wheres[l]){let d=new RegExp(c.wheres[l],"g");if(!d.test(n[m])){i=!1;break}d.lastIndex=0,d.test("/")&&(s=!0)}let h=m<n.length?n[m]:null;if(h&&b[0])if(h.indexOf(b[0])!==0){i=!1;break}else h=h.slice(b[0].length);if(r[l]=h,s){r[l]=n.slice(m).join("/");break}}}if(m<n.length&&!s&&(i=!1),i)return{item:c,params:r}}return null}};var S={list:{},config:{},booleanAttributes:{},router:new Ue};var qe={},Ke={postpone:function(e,t){qe[e]=t},ready:function(e){if(!(e in qe))throw new Error("There is no postponed action for "+e);qe[e](),delete qe[e]}};var ne={};var A={hydrate:!0,rootScope:!1,scopedContainer:{},located:{},iteration:{},lastIteration:{},layout:""};function Je(){return window.viewiScopeState??{http:{},state:{}}}var Ze={};function et(e,t,n){L[e]=t,Ze[e]=n}var Yt={},Zt=0;function Y(e,t={}){let n=S.list[e],o=null,r=!1;if(n.di==="Singleton"?r=Yt:n.di==="Scoped"&&(r=A.scopedContainer),r&&e in r)return r[e];if(n.custom)o=Ze[e]();else if(!n.dependencies)o=new j[e];else{let u=[];for(let a in n.dependencies){let m=n.dependencies[a];var i=null;t&&m.argName in t?i=t[m.argName]:m.default?i=m.default:m.null?i=null:m.builtIn?i=m.name==="string"?"":0:i=Y(m.name),u.push(i)}o=new j[e](...u)}n.base&&(o.__id=++Zt+"");let c=Je();if(c.state[e])for(let u in c.state[e])o[u]=c.state[e][u];return r&&(r[e]=o),o}function wt(e){let t=document.head,n=document.createElement("script");n.type="text/javascript",n.src=e,t.appendChild(n)}function q(e){if(!e.keep){for(let t in e.track){let n=e.track[t];delete e.instance.$$r[n.path][n.id]}if(e.track=[],e.children){for(let t in e.children)q(e.children[t]);e.children={}}if(e.main){for(let n=0;n<e.instance.$$p.length;n++){let o=e.instance.$$p[n];delete o[1].$$r[o[0]]}let t=e.instance;t.destroy&&t.destroy()}e.parent&&(delete e.parent.children[e.id],delete e.parent)}}function Nt(e,t){return function(n){t(e,n)}}var _t={_props:!0,$_callbacks:!0,_refs:!0,_slots:!0,_element:!0,$$t:!0,$$r:!0,$:!0,_name:!0,emitEvent:!0};var en=0;function tn(e,t,n){let o=e.$??e;return o.$||(Object.defineProperty(o,"$",{enumerable:!1,writable:!0,value:o}),Object.defineProperty(o,"$$r",{enumerable:!1,writable:!0,value:{}})),new Proxy(o,{set(i,c,u){let a=i[c]!==u,m=Reflect.set(i,c,u);if(a)for(let s in i.$$r){let p=i.$$r[s][0],x=i.$$r[s][1];if(p in x.$$r)for(let k in x.$$r[p]){let b=x.$$r[p][k];b[0].apply(null,b[1])}}return m}})}function At(e,t,n){if(!(e in _t)&&n!==null&&typeof n=="object"&&!Array.isArray(n)){let o=tn(n,t,e);t[e]=o;let r=++en+"";o.$$r[r]=[e,t],t.$$p.push([r,o])}}function St(e){let t=Object.keys(e);for(let o=0;o<t.length;o++){let r=t[o],i=e[r];At(r,e,i)}let n=new Proxy(e,{set(o,r,i){let c=o[r]!==i,u=Reflect.set(o,r,i);if(At(r,e,i),c&&r in o.$$r)for(let a in o.$$r[r]){let m=o.$$r[r][a];m[0].apply(null,m[1])}return u}});return e.$=e,n}var nn=0;function H(e){return e.__aid||(e.__aid=++nn,ne[e.__aid]={current:-1,target:e,invalid:[],added:0}),ne[e.__aid]}function $t(e,t){let n=H(e),o=e.childNodes.length,r=n.current+3;r=r>o?o:r;let i=[];for(let u=n.current+1;u<r;u++){let a=e.childNodes[u];if(a.nodeType===8)return n.current=u,n.invalid=n.invalid.concat(i),a;i.push(u)}n.added++,n.invalid=n.invalid.concat(i),console.log("Hydrate comment not found",t);let c=document.createComment(t);return n.current=n.current+i.length+1,o>n.current?e.insertBefore(c,e.childNodes[n.current]):e.appendChild(c)}var on={body:!0,head:!0,html:!0};function It(e,t){let n=H(e),o=e.childNodes.length,r=n.current+3;r=r>o?o:r;let i=[];for(let u=n.current+1;u<r;u++){let a=e.childNodes[u];if(a.nodeType===1&&a.nodeName.toLowerCase()===t.toLowerCase())return n.current=u,n.invalid=n.invalid.concat(i),a;i.push(u)}if(t in on){let u=document.getElementsByTagName(t);if(u.length>0)return n.invalid=[],u[0]}n.added++,n.invalid=n.invalid.concat(i),console.warn("Hydrate not found",t);let c=document.createElement(t);return n.current=n.current+i.length+1,o>n.current?e.insertBefore(c,e.childNodes[n.current]):e.appendChild(c)}function oe(e,t,n,o){let r=[e];o.arguments&&(r=r.concat(o.arguments));let i=(t.expression?e.$$t[t.code].apply(null,r):t.content)??"";n.nodeValue!==i&&(n.nodeValue=i)}function Mt(e,t,n,o){let r=H(e),i=e.childNodes.length,c=r.current+3;c=c>i?i:c;let u=[],a=r.current>-1?r.current:r.current+1;for(let s=a;s<c;s++){let p=e.childNodes[s];if(p.nodeType===3){if(s===r.current)break;return r.current=s,r.invalid=r.invalid.concat(u),oe(t,n,p,o),p}s!==r.current&&u.push(s)}r.added++,r.invalid=r.invalid.concat(u);let m=document.createTextNode("");return oe(t,n,m,o),r.current=r.current+u.length+1,i>r.current?e.insertBefore(m,e.childNodes[r.current]):e.appendChild(m)}function re(e,t,n,o,r){let i=null;if(t.children){i="";for(let c=0;c<t.children.length;c++){let u=t.children[c],a=[e];r.arguments&&(a=a.concat(r.arguments));let m=u.expression?e.$$t[u.code].apply(null,a):u.content??"";i=c===0?m:i+(m??"")}}o.toLowerCase()in S.booleanAttributes?i===!0||i===null?o!==n.getAttribute(o)&&n.setAttribute(o,o):n.removeAttribute(o):i!==null?i!==n.getAttribute(o)&&n.setAttribute(o,i):n.removeAttribute(o)}var Bt=0;function Qe(){return++Bt}function I(e,t=!1,n,o){let r=document.createTextNode("");return r._anchor=o??"#"+ ++Bt,n&&n.current++,t||n&&e.childNodes.length>n.current?(n?e:e.parentElement).insertBefore(r,n?e.childNodes[n.current]:e):e.appendChild(r),r}function Et(e,t,n,o,r,i,c){let u=[e];c.arguments&&(u=u.concat(c.arguments));let a=e.$$t[n.children[0].forData].apply(null,u),m=Array.isArray(a),s=o,p=!1,x={},k={};for(let b in a){let l=m?+b:b,h=a[l],d=++c.counter,f={id:d,why:"forItem",instance:e,arguments:[...c.arguments],map:{...c.map},track:[],parent:c,children:{},counter:0};c.refs&&(f.refs=c.refs),c.children[d]=f;let T=!1;for(let N in r)if(r[N]===h){T=!0,p=!1,s=o;break}else!p&&!(l in x)&&(s=r[N].begin,p=!0);if(x[l]=!0,!T){f.map[n.children[0].forKey]=f.arguments.length,f.arguments.push(l),f.map[n.children[0].forItem]=f.arguments.length,f.arguments.push(h);let N={map:{...i.map},storage:{...i.storage}},g=I(s,!0,void 0,"b"+Qe());P(s,e,[t],f,N,!1,!0);let C=I(s,!0,void 0,g._anchor);l in r&&(k[l]=r[l]),r[l]={key:l,value:h,begin:g,end:C,scope:f}}}for(let b in r)if(!(b in x)){let l=r[b].end;for(;l.previousSibling._anchor!==l._anchor;)l.previousSibling.remove();r[b].begin.remove(),l.remove(),q(r[b].scope),delete r[b]}for(let b in k){let l=k[b].end;for(;l.previousSibling._anchor!==l._anchor;)l.previousSibling.remove();k[b].begin.remove(),q(k[b].scope),l.remove()}}function ze(e,t,n,o,r,i,c){let u=!0;for(let s=0;s<c;s++)u=u&&!r.values[s];o.children&&(u=u&&!!e.$$t[o.children[0].code](e));let a=n.anchorNode,m={map:{...i.map},storage:{...i.storage}};if(r.values[c]!==u){let s=n.scope.parent;if(r.values[c]=u,u){let p=++s.counter,x={id:p,why:c===0?"if":o.children?"elseif":"else",instance:e,arguments:[...s.arguments],map:{...s.map},track:[],parent:s,children:{},counter:0};s.refs&&(x.refs=s.refs),n.scope=x,s.children[p]=x,P(a,e,[t],x,m,!1,!0)}else for(q(n.scope),n.scope={id:-1,why:"if",instance:e,arguments:[],map:{},track:[],parent:s,children:{},counter:0};a.previousSibling._anchor!==a._anchor;)a.previousSibling.remove()}}function Lt(e,t,n){let o=t.expression?e.$$t[t.code](e):t.content??"";n.nodeValue!==o&&(n.nodeValue=o)}var sn=0;function R(e,t,n,o){e.$$r[t]||(e.$$r[t]={});let r=++sn;n.track.push({id:r,path:t}),e.$$r[t][r]=o}function z(e){let t="value";switch(e.t){case"t":{t="tag";break}case"a":{t="attr";break}case void 0:case"v":{t="value";break}case"c":{t="component";break}case"x":{t="text";break}case"m":{t="comment";break}case"d":{t="doctype";break}case"r":{t="root",e.h&&e.h[0].t==="x"&&e.h[0].c?.substring(0,9)==="<!DOCTYPE"&&(e.h[0].t="d");break}default:throw new Error("Type "+e.t+" is not defined in build")}if(e.type=t,delete e.t,e.c&&(e.content=e.c,delete e.c),e.e&&(e.expression=e.e,delete e.e),e.a){e.attributes=e.a,delete e.a;for(let n in e.attributes)z(e.attributes[n])}if(e.i){e.directives=e.i,delete e.i;for(let n in e.directives)z(e.directives[n])}if(e.h){e.children=e.h,delete e.h;for(let n in e.children)z(e.children[n])}}function Ge(e){return e in S.list}function Pt(e,t,n){let o=t.expression?e.$$t[t.code](e):t.content??"",r=t.type==="component"||t.expression&&Ge(o),i=n.anchorNode,c=n.scope.parent;for(q(n.scope);i.previousSibling._anchor!==i._anchor;)i.previousSibling.remove();let u=++c.counter,a={id:u,why:"dynamic",arguments:[...c.arguments],map:{...c.map},track:[],instance:e,parent:c,children:{},counter:0};if(c.refs&&(a.refs=c.refs),n.scope=a,c.children[u]=a,r){let m={};if(t.slots){let p={id:++a.counter,why:"slot",arguments:[...c.arguments],map:{...c.map},track:[],instance:e,parent:a,children:{},counter:0,slots:c.slots};for(let x in t.slots)m[x]={node:t.slots[x],scope:p}}ie(i,o,{attributes:t.attributes,scope:c,instance:e},m,!1,!0);return}else{let m=i.parentElement.insertBefore(document.createElement(o),i);if(t.attributes)for(let s in t.attributes){let p=t.attributes[s],x=p.expression?e.$$t[p.code](e):p.content??"";if(x[0]==="("){let k=x.substring(1,x.length-1);if(p.children){let b=e.$$t[p.dynamic?p.dynamic.code:p.children[0].code](e);m.addEventListener(k,b)}}else{re(e,p,m,x,a);let k=[];if(p.children)for(let b in p.children){let l=p.children[b];l.subs&&(k=k.concat(l.subs))}if(k)for(let b in k){let l=k[b];R(e,l,a,[re,[e,p,m,x,a]])}}}t.children&&P(m,e,t.children,a,void 0,!1,!1)}}function Rt(e,t,n,o){for(;o.previousSibling._anchor!==o._anchor;)o.previousSibling.remove();let r=o.parentElement,i=document.createElement(r.nodeName),c=[e];n.arguments&&(c=c.concat(n.arguments));let u=(t.expression?e.$$t[t.code].apply(null,c):t.content)??"";i.innerHTML=u;let a=Array.prototype.slice.call(i.childNodes);for(let m=0;m<a.length;m++){let s=a[m];r.insertBefore(s,o)}}function Ht(e,t){return function(n){if(t.inputType==="checkbox"){let o=t.getter(e),r=n.target.value;if(Array.isArray(o)){let i=o.slice(),c=i.indexOf(r);c===-1?n.target.checked&&i.push(r):n.target.checked||i.splice(c,1),t.setter(e,i)}else t.setter(e,n.target.checked)}else if(t.inputType==="radio"){let o=n.target.value;t.setter(e,o)}else if(t.isMultiple||n.target.multiple){let o=n.target.options,r=[];for(let i=0;i<o.length;i++){let c=o[i];c.selected&&r.push(c.value)}t.setter(e,r)}else t.setter(e,n.target.value)}}function tt(e,t,n){if(n.inputType==="checkbox"){let o=n.getter(t);if(Array.isArray(o)){let r=e.value;o.indexOf(r)===-1?(e.removeAttribute("checked"),e.checked=!1):(e.setAttribute("checked","checked"),e.checked=!0)}else o?(e.setAttribute("checked","checked"),e.checked=!0):(e.removeAttribute("checked"),e.checked=!1)}else if(n.inputType==="radio"){let o=n.getter(t),r=e.value;o===r?(e.setAttribute("checked","checked"),e.checked=!0):(e.removeAttribute("checked"),e.checked=!1)}else if(n.isMultiple||e.multiple){let o=e.options,r=n.getter(t);for(let i=0;i<o.length;i++){let c=o[i];r.indexOf(c.value)===-1?c.selected=!1:c.selected=!0}}else e.value=n.getter(t)}var Vt={},cn="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Dt=cn.split(",");for(let e=0;e<Dt.length;e++)Vt[Dt[e]]=!0;function Ot(e){return e.toLowerCase()in Vt}var nt="http://www.w3.org/2000/svg";function jt(e,t,n){if(e.childNodes.length>0){let o=[],r=Array.prototype.slice.call(e.childNodes);for(let i=0;i<r.length;i++){let c=r[i],u=c.nodeType;if(u===3){let a=n.childNodes[t.current];a&&a.nodeType===u?a.nodeValue=c.nodeValue:(t.added++,n.childNodes.length>t.current&&o.push(t.current),n.childNodes.length>t.current+1?n.insertBefore(c,n.childNodes[t.current+1]):n.appendChild(c),t.current++)}else{let a=n.childNodes[t.current];if(!a||a.nodeType!==u||u===1&&a.nodeName!==c.nodeName)t.added++,n.childNodes.length>t.current&&o.push(t.current),n.childNodes.length>t.current+1?n.insertBefore(c,n.childNodes[t.current+1]):n.appendChild(c),t.current++;else if(u===1&&(a.nodeName!==c.nodeName||a.outerHTML!==c.outerHTML)){let m=a.getAttribute("data-keep");(!m||m!==c.getAttribute("data-keep"))&&(a.outerHTML=c.outerHTML)}}t.current++}o.length>0&&(t.invalid=t.invalid.concat(o))}}function P(e,t,n,o,r,i=!0,c=!1){let u=null,a=!1;for(let m=0;m<n.length;m++){let s=n[m],p=e,x=!1,k=!1,b=o;switch(s.type){case"tag":case"component":{if(s.directives){let g=r||{map:{},storage:{}},C=[t];o.arguments&&(C=C.concat(o.arguments));for(let _=0;_<s.directives.length;_++){let v=s.directives[_];if(!(_ in g.map)){switch(g.map[_]=!0,v.content){case"if":{u={values:[],index:0,subs:[]};let w=!!t.$$t[v.children[0].code].apply(null,C);u.values.push(w);let M=i?H(e):void 0,V=I(e,c,M),J={map:{...g.map},storage:{...g.storage}},D=++o.counter,B={id:D,why:"if",arguments:o.arguments,map:o.map,instance:t,track:[],parent:o,children:{},counter:0};o.refs&&(B.refs=o.refs),o.children[D]=B,w&&P(e,t,[s],B,g,i,c);let F=I(e,c,M,V._anchor);if(v.children[0].subs)for(let $ in v.children[0].subs){let O=v.children[0].subs[$];u.subs.push(O),R(t,O,o,[ze,[t,s,{scope:B,anchorNode:F},v,u,J,u.index]])}u.index++,x=!0;break}case"else-if":{if(u){let w=!0;for(let $=0;$<u.index;$++)w=w&&!u.values[$];w=w&&!u.values[u.index-1]&&!!t.$$t[v.children[0].code].apply(null,C),u.values.push(w);let M=i?H(e):void 0,V=I(e,c,M),J={map:{...g.map},storage:{...g.storage}},D=++o.counter,B={id:D,why:"elseif",instance:t,arguments:o.arguments,map:o.map,track:[],parent:o,children:{},counter:0};o.refs&&(B.refs=o.refs),o.children[D]=B,w&&P(e,t,[s],B,g,i,c);let F=I(e,c,M,V._anchor);v.children[0].subs&&(u.subs=u.subs.concat(v.children[0].subs));for(let $ in u.subs){let O=u.subs[$];R(t,O,o,[ze,[t,s,{scope:B,anchorNode:F},v,u,J,u.index]])}u.index++,x=!0}else console.warn("Directive else-if has missing previous if/else-if",v.content,v);break}case"else":{if(u){let w=!0;for(let $=0;$<u.index;$++)w=w&&!u.values[$];u.values.push(w);let M=i?H(e):void 0,V=I(e,c,M),J={map:{...g.map},storage:{...g.storage}},D=++o.counter,B={id:D,why:"else",instance:t,arguments:o.arguments,map:o.map,track:[],parent:o,children:{},counter:0};o.refs&&(B.refs=o.refs),o.children[D]=B,w&&P(e,t,[s],B,g,i,c);let F=I(e,c,M,V._anchor);for(let $ in u.subs){let O=u.subs[$];R(t,O,o,[ze,[t,s,{scope:B,anchorNode:F},v,u,J,u.index]])}u.index++,x=!0}else console.warn("Directive else has missing previous if/else-if",v.content,v);break}case"foreach":{let w=t.$$t[v.children[0].forData].apply(null,C),M=i?H(e):void 0,V=I(e,c,M),J=Array.isArray(w),D={};for(let F in w){let $=J?+F:F,O=w[$],rt=++o.counter,U={id:rt,why:"foreach",instance:t,arguments:[...o.arguments],map:{...o.map},track:[],parent:o,children:{},counter:0};o.refs&&(U.refs=o.refs),o.children[rt]=U,U.map[v.children[0].forKey]=U.arguments.length,U.arguments.push($),U.map[v.children[0].forItem]=U.arguments.length,U.arguments.push(O);let Wt={map:{...g.map},storage:{...g.storage}},it=I(e,c,M,"b"+Qe());P(e,t,[s],U,Wt,i,c);let Xt=I(e,c,M,it._anchor);D[$]={key:$,value:O,begin:it,end:Xt,scope:U}}let B=I(e,c,M,V._anchor);if(v.children[0].subs)for(let F in v.children[0].subs){let $=v.children[0].subs[F],O={map:{...g.map},storage:{...g.storage}};R(t,$,o,[Et,[t,s,v,B,D,O,o]])}x=!0;break}default:{console.warn("Directive not implemented",v.content,v),x=!0;break}}if(x)break}}if(x)continue}let l=s.expression?t.$$t[s.code](t):s.content??"",h=s.expression,d=s.type==="component"||s.expression&&Ge(l),f,T,N=o;if(h&&(f=i?H(e):void 0,T=I(e,c,f)),h){let g=++o.counter;N={id:g,why:"dynamic",arguments:[...o.arguments],map:{...o.map},track:[],instance:t,parent:o,children:{},counter:0},o.refs&&(N.refs=o.refs),o.children[g]=N,b=N}if(d){let g={};if(s.slots){let C=++N.counter,_={id:C,why:"slot",arguments:[...o.arguments],map:{...o.map},track:[],parent:N,instance:t,children:{},counter:0,slots:o.slots};o.refs&&(_.refs=o.refs),N.children[C]=_;for(let v in s.slots)g[v]={node:s.slots[v],scope:_}}ie(e,l,{attributes:s.attributes,scope:o},g,i,c)}else{if(s.content==="template"){a=c;break}if(s.content==="slot"){f||(f=i?H(e):void 0),a=c;let C="default";if(s.attributes)for(let w in s.attributes)s.attributes[w].content==="name"&&(C=s.attributes[w].children[0].content);let _=I(e,c,f);if(C in o.slots){let w=o.slots[C];w.node.unpacked||(z(w.node),w.node.unpacked=!0),P(p,w.scope.instance,w.node.children,w.scope,void 0,i,a)}else s.children&&P(p,t,s.children,o,void 0,i,a);let v=I(e,c,f,_._anchor);o.instance._name in A.iteration&&(A.iteration[o.instance._name].slots[C]=v);continue}k=!0;let g=Ot(l)||e.isSvg;p=i?It(e,l):c?e.parentElement.insertBefore(g?document.createElementNS(nt,l):document.createElement(l),e):e.appendChild(g?document.createElementNS(nt,l):document.createElement(l)),s.first&&(t._element=p),g&&(p.isSvg=!0)}if(h){let g=I(e,c,f,T._anchor);if(s.subs)for(let C in s.subs){let _=s.subs[C];R(t,_,o,[Pt,[t,s,{scope:N,anchorNode:g}]])}}if(d)continue;break}case"text":{if(s.raw){let h=c?e.parentElement:e,d=document.createElement(h.nodeName),f=[t];o.arguments&&(f=f.concat(o.arguments));let T=(s.expression?t.$$t[s.code].apply(null,f):s.content)??"";d.innerHTML=T;let N=i?H(e):void 0,g=I(e,c,N);if(i)N.current++,jt(d,N,e);else if(d.childNodes.length>0){let _=Array.prototype.slice.call(d.childNodes);for(let v=0;v<_.length;v++){let w=_[v];c?e.parentElement.insertBefore(w,e):e.appendChild(w)}}let C=I(e,c,N,g._anchor);if(s.subs)for(let _ in s.subs){let v=s.subs[_];R(t,v,o,[Rt,[t,s,o,C]])}break}let l;if(i?l=Mt(e,t,s,o):(l=document.createTextNode(""),oe(t,s,l,o),c?e.parentElement.insertBefore(l,e):e.appendChild(l)),s.subs)for(let h in s.subs){let d=s.subs[h];R(t,d,o,[oe,[t,s,l,o]])}break}case"comment":{let l=s.expression?t.$$t[s.code](t):s.content??"",h=i?$t(e,l):c?e.parentElement.insertBefore(document.createComment(l),e):e.appendChild(document.createComment(l));if(s.subs)for(let d in s.subs){let f=s.subs[d];R(t,f,o,[Lt,[t,s,h]])}break}case"doctype":{if(i){let l=H(e);l.current++}break}default:{console.warn("Node type not implemented",s);break}}if(k){if(s.attributes){let l=i?p.getAttributeNames():null,h=i?{}:null;for(let d=0;d<s.attributes.length;d++){let f=s.attributes[d],T=f.expression?t.$$t[f.code](t):f.content??"";if(T[0]==="#"){let g=T.substring(1,T.length);t._refs[g]=p,o.refs&&g in o.refs&&(t[g]=p);continue}let N=T==="model";if(T[0]==="("){let g=T.substring(1,T.length-1);if(f.children){let C=t.$$t[f.dynamic?f.dynamic.code:f.children[0].code](t);p.addEventListener(g,C)}}else if(N){let g="text";p.getAttribute("type")==="checkbox"&&(g="checkbox"),p.getAttribute("type")==="radio"&&(g="radio");let C=!1;p.tagName==="SELECT"&&(g="select",C=p.multiple);let _=g==="checkbox"||g==="radio"||g==="select",v=f.children[0],w=t.$$t[v.code](t),M=_?"change":"input",V={getter:w[0],setter:w[1],inputType:g,isMultiple:C};tt(p,t,V);for(let J in v.subs){let D=v.subs[J];R(t,D,o,[tt,[p,t,V]])}p.addEventListener(M,Ht(t,V))}else{i&&(h[T]=!0),re(t,f,p,T,o);let g=[];if(f.children)for(let C in f.children){let _=f.children[C];_.subs&&(g=g.concat(_.subs))}if(g)for(let C in g){let _=g[C];R(t,_,o,[re,[t,f,p,T,o]])}}}if(i)for(let d=0;d<l.length;d++)l[d]in h||p.removeAttribute(l[d])}else if(i){let l=p.getAttributeNames();for(let h=0;h<l.length;h++)p.removeAttribute(l[h])}}s.children&&P(p,t,s.children,b,void 0,i,a)}}function Ft(e,t,n,o){e[t]=n(o)}function Ut(e,t,n){let o=n.scope.instance,r=t.expression?o.$$t[t.code](o):t.content??"";if(r[0]!=="("){let i=null,c=[];if(t.children)for(let u=0;u<t.children.length;u++){let a=t.children[u],m=[o];n.scope.arguments&&(m=m.concat(n.scope.arguments));let s=a.expression?o.$$t[a.code].apply(null,m):a.content??"";i=u===0?s:i+(s??""),a.subs&&(c=c.concat(a.subs))}if(r==="_props"&&i)for(let u in i)e[u]=i[u],e._props[u]=i[u];else e[r]=i,e._props[r]=i}}function ie(e,t,n,o,r=!1,i=!1,c={}){if(!(t in S.list))throw new Error(`Component ${t} not found.`);if(!(t in j))throw new Error(`Component ${t} not found.`);let u=S.list[t],a=u.nodes,m=A.lastIteration,s=t in m;if(s){let l=m[t].slots;for(let h in l){let d=l[h];for(;d.previousSibling._anchor!==d._anchor;)d.previousSibling.remove()}m[t].scope.keep=!0}let p=s?m[t].instance:St(Y(t,c));s||u.hooks&&u.hooks.init&&p.init();let x=t+"_x";!s&&x in j&&(p.$$t=j[x]);let k=n?++n.scope.counter:0,b=s?m[t].scope:{id:k,why:t,arguments:n?[...n.scope.arguments]:[],instance:p,main:!0,map:n?{...n.scope.map}:{},track:[],children:{},counter:0,parent:n?n.scope:void 0,slots:o};if(n&&(n.scope.children[k]=b),u.refs&&(b.refs=u.refs),n&&n.attributes){let l=n.scope.instance;for(let h in n.attributes){let d=n.attributes[h],f=d.expression?l.$$t[d.code](l):d.content??"";if(f[0]==="("){let T=f.substring(1,f.length-1);if(d.children){let N=l.$$t[d.dynamic?d.dynamic.code:d.children[0].code](l);p.$_callbacks[T]=N}}else{let T=f==="model",N=null,g=[];if(T){let C=d.children[0],_=[l];n.scope.arguments&&(_=_.concat(n.scope.arguments));let v=l.$$t[C.code].apply(null,_);N=v[0](l),p.$_callbacks[f]=Nt(l,v[1]);for(let w in C.subs){let M=C.subs[w];R(l,M,n.scope,[Ft,[p,f,v[0],l]])}}else if(d.children)for(let C=0;C<d.children.length;C++){let _=d.children[C],v=[l];n.scope.arguments&&(v=v.concat(n.scope.arguments));let w=_.expression?l.$$t[_.code].apply(null,v):_.content??"";N=C===0?w:N+(w??""),_.subs&&(g=g.concat(_.subs))}else N=!0;if(f==="_props"&&N)for(let C in N)p[C]=N[C],p._props[C]=N[C];else p[f]=N,p._props[f]=N;if(g)for(let C in g){let _=g[C];R(l,_,n.scope,[Ut,[p,d,n]])}}}}if(t in A.located&&(A.iteration[t]={instance:p,scope:b,slots:{}}),s){let l=m[t].slots;for(let d in l){let f=l[d];if(f.parentNode&&document.body.contains(f)){if(o&&d in o){let T=o[d];T.node.unpacked||(z(T.node),T.node.unpacked=!0),P(f,T.scope.instance,T.node.children,T.scope,void 0,!1,!0)}A.iteration[t].slots[d]=f}}let h=t;for(;h;){let d=S.list[h];h=!1;let f=d.nodes;if(f){let T=f.children;T&&T[0].type==="component"&&T[0].content in m&&(A.iteration[T[0].content]=m[T[0].content],h=T[0].content)}}return b}if(e&&a){a.unpacked||(z(a),a.unpacked=!0);let l=a.children;l&&(l[0].type==="component"&&(A.located[l[0].content]=!0),l[0].first=!0,P(e,p,l,b,void 0,r,i))}return b}var qt={};function We(e,t,n,o,r){if(!(e in S.list))throw new Error(`Component ${e} not found.`);let i=S.list[e];if(i.lazy&&!(i.lazy in qt)){let a="viewi"+(E.name==="default"?"":"."+E.name),m=E.publicPath+a+"."+i.lazy+(E.minify?".min":"")+".js"+(E.appendVersion?"?"+E.build:"");wt(m),Ke.postpone(i.lazy,function(){qt[i.lazy]=!0,We(e,t,n,o,r)});return}let c=A.hydrate,u=A.rootScope;if(o&&u&&i.parent!==A.layout){location.href=o.href;return}if(i.middleware&&!r){let a=i.middleware.length,m=!0,s=-1,p={next:function(x=!0){m=x,s++,m&&s<a?Y(i.middleware[s]).run(p):m&&We(e,t,n,o,!0)}};p.next(!0);return}o&&o.func(o.href,o.forward),A.layout=i.parent,A.lastIteration=A.iteration,A.iteration={},A.scopedContainer={},A.located={},A.rootScope=ie(n??document,e,void 0,{},c,!1,t),A.hydrate=!1;for(let a in A.lastIteration)a in A.iteration||(A.lastIteration[a].scope.keep=!1);if(u&&q(u),c)for(let a in ne){let m=ne[a];for(let s=m.target.childNodes.length-1;s>=m.current+1;s--)m.target.childNodes[s].remove();for(let s=m.invalid.length-1;s>=0;s--)m.target.childNodes[m.invalid[s]].remove()}}var un=document.createElement("a"),K={link:un,scrollTo:null};var an=function(e){return K.link.href=e,K.link.pathname},ln=function(e,t=!0){t&&window.history.pushState({href:e},"",e)};function G(e,t=!0){let n=an(e),o=S.router.resolve(n);if(o==null)throw"Can't resolve route for uri: "+n;We(o.item.action,o.params,void 0,{func:ln,href:e,forward:t})}var se=class{browser=!0;server=!1;getConfig(){return S.config}redirect(t){G(t)}navigateBack(){history.back()}getCurrentUrl(){return location.pathname+location.search}getCurrentUrlPath(){return location.pathname}getQueryParams(){return Object.fromEntries(new URLSearchParams(location.search))}};var Xe=class{onSuccess;onError=null;onAlways=null;result=null;lastError=null;action;constructor(t){this.action=t}error(t){this.onError=t}success(t){this.onSuccess=t}always(t){this.onAlways=t}run(){let t=this;this.action(function(n,o){t.result=n;let r=!1;if(o?(t.lastError=o,t.onError!==null?t.onError(o):r=!0):t.onSuccess(t.result),t.onAlways!=null&&t.onAlways(),r)throw t.lastError})}then(t,n,o){this.onSuccess=t,n&&(this.onError=n),o&&(this.onAlways=o),this.run()}};function Kt(e){return"Blob"in window&&e instanceof Blob}var Z=class e{url;status;statusText;headers={};body=null;constructor(t,n,o,r={},i=null){this.url=t,this.status=n,this.statusText=o,this.headers=r,this.body=i}withUrl(t){var n=this.clone();return n.url=t,n}withStatus(t,n=null){var o=this.clone();return o.status=t,n!==null&&(o.statusText=n),o}withHeaders(t){var n=this.clone();return n.headers={...n.headers,...t},n}withHeader(t,n){var o=this.clone();return o.headers[t]=n,o}withBody(t=null){var n=this.clone();return n.body=t,n}ok(){return this.status>=200&&this.status<300}clone(){var t=new e(this.url,this.status,this.statusText,this.headers,this.body);return t}};function Jt(e,t,n,o,r){let i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===4){let u=i.status,a=i.getResponseHeader("Content-Type"),m=a&&a.indexOf("application/json")===0,p=i.responseText;m&&(p=JSON.parse(i.responseText));let x={},k=i.getAllResponseHeaders();if(k){let l=k.trim().split(/[\r\n]+/);for(let h=0;h<l.length;h++){let f=l[h].split(": "),T=f.shift();if(T){let N=f.join(": ");x[T]=N}}}let b=new Z(n,u,"",x,p);e(b)}};let c=o!==null&&typeof o=="object"&&!Kt(o);if(i.open(t.toUpperCase(),n,!0),c&&i.setRequestHeader("Content-Type","application/json"),r)for(let u in r)if(Array.isArray(r[u]))for(let a=0;a<r[u].length;a++)i.setRequestHeader(u,r[u][a]);else i.setRequestHeader(u,r[u]);o!==null?i.send(c?JSON.stringify(o):o):i.send()}var Ye=class e{url;method;headers={};body=null;constructor(t,n,o={},r=null){this.url=t,this.method=n,this.headers=o,this.body=r}withMethod(t){var n=this.clone();return n.method=t,n}withUrl(t){var n=this.clone();return n.url=t,n}withHeaders(t){var n=this.clone();return n.headers={...n.headers,...t},n}withHeader(t,n){var o=this.clone();return o.headers[t]=n,o}withBody(t=null){var n=this.clone();return n.body=t,n}clone(){var t=new e(this.url,this.method,this.headers,this.body);return t}};var ot=function(e,t,n){let r=n.length,i=function(a,m){m&&a.status>=200&&a.status<300?t(a.body):t(void 0,a.body??"Failed")},c=function(a,m){m&&r>-1?n[r].response(a,u):i(a,m)},u={next:function(a){r--,c(a,!0)},reject:function(a){r--,c(a,!1)}};u.next(e)},ce=class e{interceptors=[];request(t,n,o,r){let i=this;return new Xe(function(u){try{let a=Je(),m=new Ye(n,t,r,o),s=-1,p=i.interceptors.length,x=[],k=function(h,d){if(d){let f=h.method+"_"+h.url+"_"+JSON.stringify(h.body);if(f in a.http){let T=JSON.parse(a.http[f]);delete a.http[f];let N=new Z(h.url,200,"OK",{},T);ot(N,u,x);return}else Jt(function(T){ot(T,u,x)},h.method,h.url,h.body,h.headers)}else{let f=new Z(h.url,0,"Rejected",{},null);ot(f,u,x)}},b=function(h,d){if(!d){k(h,d);return}if(s<p){let f=Y(i.interceptors[s]);x.push(f),f.request(h,l)}else k(h,d)},l={next:function(h){s++,b(h,!0)},reject:function(h){s++,b(h,!1)}};l.next(m)}catch(a){console.error(a),u(void 0,a)}})}get(t,n){return this.request("get",t,null,n)}post(t,n,o){return this.request("post",t,n,o)}withInterceptor(t){let n=new e;return n.interceptors=[...this.interceptors,t],n}};function Qt(){L.BaseComponent=y,et("HttpClient",ce,()=>new ce),et("Platform",se,()=>new se)}function zt(){document.addEventListener("click",function(e){if(e.defaultPrevented)return;e.target||console.warn('Can not aquire event target at "watchLinks".');let n=e.target;for(;n.parentElement&&n.tagName!=="A";)n=n.parentElement;n.tagName==="A"&&n.href&&n.href.indexOf(location.origin)===0&&(K.scrollTo=null,(!K.link.hash||K.link.pathname!==location.pathname)&&(e.preventDefault(),K.link.hash&&(K.scrollTo=K.link.hash),G(n.href,!0)))},!1),window.addEventListener("popstate",function(e){e.state?G(e.state.href,!1):G(location.href,!1)})}var Gt={register:{},version:E.version,build:E.build,name:E.name,publish(e,t){for(let n in t)if(!(n in j)){let o=t[n];o._t==="template"?S.list[o.name]=JSON.parse(o.data):j[n]=o}Ke.ready(e)}};window.ViewiApp=window.ViewiApp||{};window.ViewiApp[E.name]=Gt;(async()=>{let e=JSON.parse(Tt);E.combine||(e=await(await fetch(E.componentsPath)).json()),S.list=e,S.router.setRoutes(e._routes),S.config=e._config;let t=e._meta.boolean.split(",");for(let n=0;n<t.length;n++)S.booleanAttributes[t[n]]=!0;Qt(),Gt.register={...j,...L,...kt},zt(),G(location.href)})();})();
